!function t(e,r,n){function i(s,a){if(!r[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=r[s]={exports:{}};e[s][0].call(c.exports,function(t){var r=e[s][1][t];return i(r?r:t)},c,c.exports,t,e,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(t,e,r){function n(t,e,r){if(!(this instanceof n))return new n(t,e,r);var i=typeof t;if("base64"===e&&"string"===i)for(t=_(t);t.length%4!==0;)t+="=";var o;if("number"===i)o=O(t);else if("string"===i)o=n.byteLength(t,e);else{if("object"!==i)throw new Error("First argument needs to be a number, array or string.");o=O(t.length)}var s;n._useTypedArrays?s=n._augment(new Uint8Array(o)):(s=this,s.length=o,s._isBuffer=!0);var a;if(n._useTypedArrays&&"number"==typeof t.byteLength)s._set(t);else if(N(t))if(n.isBuffer(t))for(a=0;o>a;a++)s[a]=t.readUInt8(a);else for(a=0;o>a;a++)s[a]=(t[a]%256+256)%256;else if("string"===i)s.write(t,0,e);else if("number"===i&&!n._useTypedArrays&&!r)for(a=0;o>a;a++)s[a]=0;return s}function i(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var o=e.length;q(o%2===0,"Invalid hex string"),n>o/2&&(n=o/2);for(var s=0;n>s;s++){var a=parseInt(e.substr(2*s,2),16);q(!isNaN(a),"Invalid hex string"),t[r+s]=a}return s}function o(t,e,r,n){var i=F(I(e),t,r,n);return i}function s(t,e,r,n){var i=F(R(e),t,r,n);return i}function a(t,e,r,n){return s(t,e,r,n)}function u(t,e,r,n){var i=F(U(e),t,r,n);return i}function c(t,e,r,n){var i=F(M(e),t,r,n);return i}function f(t,e,r){return H.fromByteArray(0===e&&r===t.length?t:t.slice(e,r))}function l(t,e,r){var n="",i="";r=Math.min(t.length,r);for(var o=e;r>o;o++)t[o]<=127?(n+=L(i)+String.fromCharCode(t[o]),i=""):i+="%"+t[o].toString(16);return n+L(i)}function h(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;r>i;i++)n+=String.fromCharCode(t[i]);return n}function p(t,e,r){return h(t,e,r)}function d(t,e,r){var n=t.length;(!e||0>e)&&(e=0),(!r||0>r||r>n)&&(r=n);for(var i="",o=e;r>o;o++)i+=T(t[o]);return i}function y(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function g(t,e,r,n){n||(q("boolean"==typeof r,"missing or invalid endian"),q(void 0!==e&&null!==e,"missing offset"),q(e+1<t.length,"Trying to read beyond buffer length"));var i=t.length;if(!(e>=i)){var o;return r?(o=t[e],i>e+1&&(o|=t[e+1]<<8)):(o=t[e]<<8,i>e+1&&(o|=t[e+1])),o}}function m(t,e,r,n){n||(q("boolean"==typeof r,"missing or invalid endian"),q(void 0!==e&&null!==e,"missing offset"),q(e+3<t.length,"Trying to read beyond buffer length"));var i=t.length;if(!(e>=i)){var o;return r?(i>e+2&&(o=t[e+2]<<16),i>e+1&&(o|=t[e+1]<<8),o|=t[e],i>e+3&&(o+=t[e+3]<<24>>>0)):(i>e+1&&(o=t[e+1]<<16),i>e+2&&(o|=t[e+2]<<8),i>e+3&&(o|=t[e+3]),o+=t[e]<<24>>>0),o}}function v(t,e,r,n){n||(q("boolean"==typeof r,"missing or invalid endian"),q(void 0!==e&&null!==e,"missing offset"),q(e+1<t.length,"Trying to read beyond buffer length"));var i=t.length;if(!(e>=i)){var o=g(t,e,r,!0),s=32768&o;return s?-1*(65535-o+1):o}}function b(t,e,r,n){n||(q("boolean"==typeof r,"missing or invalid endian"),q(void 0!==e&&null!==e,"missing offset"),q(e+3<t.length,"Trying to read beyond buffer length"));var i=t.length;if(!(e>=i)){var o=m(t,e,r,!0),s=2147483648&o;return s?-1*(4294967295-o+1):o}}function w(t,e,r,n){return n||(q("boolean"==typeof r,"missing or invalid endian"),q(e+3<t.length,"Trying to read beyond buffer length")),J.read(t,e,r,23,4)}function k(t,e,r,n){return n||(q("boolean"==typeof r,"missing or invalid endian"),q(e+7<t.length,"Trying to read beyond buffer length")),J.read(t,e,r,52,8)}function A(t,e,r,n,i){i||(q(void 0!==e&&null!==e,"missing value"),q("boolean"==typeof n,"missing or invalid endian"),q(void 0!==r&&null!==r,"missing offset"),q(r+1<t.length,"trying to write beyond buffer length"),D(e,65535));var o=t.length;if(!(r>=o)){for(var s=0,a=Math.min(o-r,2);a>s;s++)t[r+s]=(e&255<<8*(n?s:1-s))>>>8*(n?s:1-s);return r+2}}function x(t,e,r,n,i){i||(q(void 0!==e&&null!==e,"missing value"),q("boolean"==typeof n,"missing or invalid endian"),q(void 0!==r&&null!==r,"missing offset"),q(r+3<t.length,"trying to write beyond buffer length"),D(e,4294967295));var o=t.length;if(!(r>=o)){for(var s=0,a=Math.min(o-r,4);a>s;s++)t[r+s]=e>>>8*(n?s:3-s)&255;return r+4}}function S(t,e,r,n,i){i||(q(void 0!==e&&null!==e,"missing value"),q("boolean"==typeof n,"missing or invalid endian"),q(void 0!==r&&null!==r,"missing offset"),q(r+1<t.length,"Trying to write beyond buffer length"),$(e,32767,-32768));var o=t.length;if(!(r>=o))return e>=0?A(t,e,r,n,i):A(t,65535+e+1,r,n,i),r+2}function E(t,e,r,n,i){i||(q(void 0!==e&&null!==e,"missing value"),q("boolean"==typeof n,"missing or invalid endian"),q(void 0!==r&&null!==r,"missing offset"),q(r+3<t.length,"Trying to write beyond buffer length"),$(e,2147483647,-2147483648));var o=t.length;if(!(r>=o))return e>=0?x(t,e,r,n,i):x(t,4294967295+e+1,r,n,i),r+4}function j(t,e,r,n,i){i||(q(void 0!==e&&null!==e,"missing value"),q("boolean"==typeof n,"missing or invalid endian"),q(void 0!==r&&null!==r,"missing offset"),q(r+3<t.length,"Trying to write beyond buffer length"),W(e,3.4028234663852886e38,-3.4028234663852886e38));var o=t.length;if(!(r>=o))return J.write(t,e,r,n,23,4),r+4}function B(t,e,r,n,i){i||(q(void 0!==e&&null!==e,"missing value"),q("boolean"==typeof n,"missing or invalid endian"),q(void 0!==r&&null!==r,"missing offset"),q(r+7<t.length,"Trying to write beyond buffer length"),W(e,1.7976931348623157e308,-1.7976931348623157e308));var o=t.length;if(!(r>=o))return J.write(t,e,r,n,52,8),r+8}function _(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function C(t,e,r){return"number"!=typeof t?r:(t=~~t,t>=e?e:t>=0?t:(t+=e,t>=0?t:0))}function O(t){return t=~~Math.ceil(+t),0>t?0:t}function P(t){return(Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)})(t)}function N(t){return P(t)||n.isBuffer(t)||t&&"object"==typeof t&&"number"==typeof t.length}function T(t){return 16>t?"0"+t.toString(16):t.toString(16)}function I(t){for(var e=[],r=0;r<t.length;r++){var n=t.charCodeAt(r);if(127>=n)e.push(n);else{var i=r;n>=55296&&57343>=n&&r++;for(var o=encodeURIComponent(t.slice(i,r+1)).substr(1).split("%"),s=0;s<o.length;s++)e.push(parseInt(o[s],16))}}return e}function R(t){for(var e=[],r=0;r<t.length;r++)e.push(255&t.charCodeAt(r));return e}function M(t){for(var e,r,n,i=[],o=0;o<t.length;o++)e=t.charCodeAt(o),r=e>>8,n=e%256,i.push(n),i.push(r);return i}function U(t){return H.toByteArray(t)}function F(t,e,r,n){for(var i=0;n>i&&!(i+r>=e.length||i>=t.length);i++)e[i+r]=t[i];return i}function L(t){try{return decodeURIComponent(t)}catch(e){return String.fromCharCode(65533)}}function D(t,e){q("number"==typeof t,"cannot write a non-number as a number"),q(t>=0,"specified a negative value for writing an unsigned value"),q(e>=t,"value is larger than maximum value for type"),q(Math.floor(t)===t,"value has a fractional component")}function $(t,e,r){q("number"==typeof t,"cannot write a non-number as a number"),q(e>=t,"value larger than maximum allowed value"),q(t>=r,"value smaller than minimum allowed value"),q(Math.floor(t)===t,"value has a fractional component")}function W(t,e,r){q("number"==typeof t,"cannot write a non-number as a number"),q(e>=t,"value larger than maximum allowed value"),q(t>=r,"value smaller than minimum allowed value")}function q(t,e){if(!t)throw new Error(e||"Failed assertion")}var H=t("base64-js"),J=t("ieee754");r.Buffer=n,r.SlowBuffer=n,r.INSPECT_MAX_BYTES=50,n.poolSize=8192,n._useTypedArrays=function(){try{var t=new ArrayBuffer(0),e=new Uint8Array(t);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray}catch(r){return!1}}(),n.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.isBuffer=function(t){return!(null===t||void 0===t||!t._isBuffer)},n.byteLength=function(t,e){var r;switch(t=t.toString(),e||"utf8"){case"hex":r=t.length/2;break;case"utf8":case"utf-8":r=I(t).length;break;case"ascii":case"binary":case"raw":r=t.length;break;case"base64":r=U(t).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=2*t.length;break;default:throw new Error("Unknown encoding")}return r},n.concat=function(t,e){if(q(P(t),"Usage: Buffer.concat(list[, length])"),0===t.length)return new n(0);if(1===t.length)return t[0];var r;if(void 0===e)for(e=0,r=0;r<t.length;r++)e+=t[r].length;var i=new n(e),o=0;for(r=0;r<t.length;r++){var s=t[r];s.copy(i,o),o+=s.length}return i},n.compare=function(t,e){q(n.isBuffer(t)&&n.isBuffer(e),"Arguments must be Buffers");for(var r=t.length,i=e.length,o=0,s=Math.min(r,i);s>o&&t[o]===e[o];o++);return o!==s&&(r=t[o],i=e[o]),i>r?-1:r>i?1:0},n.prototype.write=function(t,e,r,n){if(isFinite(e))isFinite(r)||(n=r,r=void 0);else{var f=n;n=e,e=r,r=f}e=Number(e)||0;var l=this.length-e;r?(r=Number(r),r>l&&(r=l)):r=l,n=String(n||"utf8").toLowerCase();var h;switch(n){case"hex":h=i(this,t,e,r);break;case"utf8":case"utf-8":h=o(this,t,e,r);break;case"ascii":h=s(this,t,e,r);break;case"binary":h=a(this,t,e,r);break;case"base64":h=u(this,t,e,r);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":h=c(this,t,e,r);break;default:throw new Error("Unknown encoding")}return h},n.prototype.toString=function(t,e,r){var n=this;if(t=String(t||"utf8").toLowerCase(),e=Number(e)||0,r=void 0===r?n.length:Number(r),r===e)return"";var i;switch(t){case"hex":i=d(n,e,r);break;case"utf8":case"utf-8":i=l(n,e,r);break;case"ascii":i=h(n,e,r);break;case"binary":i=p(n,e,r);break;case"base64":i=f(n,e,r);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":i=y(n,e,r);break;default:throw new Error("Unknown encoding")}return i},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},n.prototype.equals=function(t){return q(n.isBuffer(t),"Argument must be a Buffer"),0===n.compare(this,t)},n.prototype.compare=function(t){return q(n.isBuffer(t),"Argument must be a Buffer"),n.compare(this,t)},n.prototype.copy=function(t,e,r,i){var o=this;if(r||(r=0),i||0===i||(i=this.length),e||(e=0),i!==r&&0!==t.length&&0!==o.length){q(i>=r,"sourceEnd < sourceStart"),q(e>=0&&e<t.length,"targetStart out of bounds"),q(r>=0&&r<o.length,"sourceStart out of bounds"),q(i>=0&&i<=o.length,"sourceEnd out of bounds"),i>this.length&&(i=this.length),t.length-e<i-r&&(i=t.length-e+r);var s=i-r;if(100>s||!n._useTypedArrays)for(var a=0;s>a;a++)t[a+e]=this[a+r];else t._set(this.subarray(r,r+s),e)}},n.prototype.slice=function(t,e){var r=this.length;if(t=C(t,r,0),e=C(e,r,r),n._useTypedArrays)return n._augment(this.subarray(t,e));for(var i=e-t,o=new n(i,void 0,!0),s=0;i>s;s++)o[s]=this[s+t];return o},n.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},n.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},n.prototype.readUInt8=function(t,e){return e||(q(void 0!==t&&null!==t,"missing offset"),q(t<this.length,"Trying to read beyond buffer length")),t>=this.length?void 0:this[t]},n.prototype.readUInt16LE=function(t,e){return g(this,t,!0,e)},n.prototype.readUInt16BE=function(t,e){return g(this,t,!1,e)},n.prototype.readUInt32LE=function(t,e){return m(this,t,!0,e)},n.prototype.readUInt32BE=function(t,e){return m(this,t,!1,e)},n.prototype.readInt8=function(t,e){if(e||(q(void 0!==t&&null!==t,"missing offset"),q(t<this.length,"Trying to read beyond buffer length")),!(t>=this.length)){var r=128&this[t];return r?-1*(255-this[t]+1):this[t]}},n.prototype.readInt16LE=function(t,e){return v(this,t,!0,e)},n.prototype.readInt16BE=function(t,e){return v(this,t,!1,e)},n.prototype.readInt32LE=function(t,e){return b(this,t,!0,e)},n.prototype.readInt32BE=function(t,e){return b(this,t,!1,e)},n.prototype.readFloatLE=function(t,e){return w(this,t,!0,e)},n.prototype.readFloatBE=function(t,e){return w(this,t,!1,e)},n.prototype.readDoubleLE=function(t,e){return k(this,t,!0,e)},n.prototype.readDoubleBE=function(t,e){return k(this,t,!1,e)},n.prototype.writeUInt8=function(t,e,r){return r||(q(void 0!==t&&null!==t,"missing value"),q(void 0!==e&&null!==e,"missing offset"),q(e<this.length,"trying to write beyond buffer length"),D(t,255)),e>=this.length?void 0:(this[e]=t,e+1)},n.prototype.writeUInt16LE=function(t,e,r){return A(this,t,e,!0,r)},n.prototype.writeUInt16BE=function(t,e,r){return A(this,t,e,!1,r)},n.prototype.writeUInt32LE=function(t,e,r){return x(this,t,e,!0,r)},n.prototype.writeUInt32BE=function(t,e,r){return x(this,t,e,!1,r)},n.prototype.writeInt8=function(t,e,r){return r||(q(void 0!==t&&null!==t,"missing value"),q(void 0!==e&&null!==e,"missing offset"),q(e<this.length,"Trying to write beyond buffer length"),$(t,127,-128)),e>=this.length?void 0:(t>=0?this.writeUInt8(t,e,r):this.writeUInt8(255+t+1,e,r),e+1)},n.prototype.writeInt16LE=function(t,e,r){return S(this,t,e,!0,r)},n.prototype.writeInt16BE=function(t,e,r){return S(this,t,e,!1,r)},n.prototype.writeInt32LE=function(t,e,r){return E(this,t,e,!0,r)},n.prototype.writeInt32BE=function(t,e,r){return E(this,t,e,!1,r)},n.prototype.writeFloatLE=function(t,e,r){return j(this,t,e,!0,r)},n.prototype.writeFloatBE=function(t,e,r){return j(this,t,e,!1,r)},n.prototype.writeDoubleLE=function(t,e,r){return B(this,t,e,!0,r)},n.prototype.writeDoubleBE=function(t,e,r){return B(this,t,e,!1,r)},n.prototype.fill=function(t,e,r){if(t||(t=0),e||(e=0),r||(r=this.length),q(r>=e,"end < start"),r!==e&&0!==this.length){q(e>=0&&e<this.length,"start out of bounds"),q(r>=0&&r<=this.length,"end out of bounds");var n;if("number"==typeof t)for(n=e;r>n;n++)this[n]=t;else{var i=I(t.toString()),o=i.length;for(n=e;r>n;n++)this[n]=i[n%o]}return this}},n.prototype.inspect=function(){for(var t=[],e=this.length,n=0;e>n;n++)if(t[n]=T(this[n]),n===r.INSPECT_MAX_BYTES){t[n+1]="...";break}return"<Buffer "+t.join(" ")+">"},n.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(n._useTypedArrays)return new n(this).buffer;for(var t=new Uint8Array(this.length),e=0,r=t.length;r>e;e+=1)t[e]=this[e];return t.buffer}throw new Error("Buffer.toArrayBuffer not supported in this browser")};var z=n.prototype;n._augment=function(t){return t._isBuffer=!0,t._get=t.get,t._set=t.set,t.get=z.get,t.set=z.set,t.write=z.write,t.toString=z.toString,t.toLocaleString=z.toString,t.toJSON=z.toJSON,t.equals=z.equals,t.compare=z.compare,t.copy=z.copy,t.slice=z.slice,t.readUInt8=z.readUInt8,t.readUInt16LE=z.readUInt16LE,t.readUInt16BE=z.readUInt16BE,t.readUInt32LE=z.readUInt32LE,t.readUInt32BE=z.readUInt32BE,t.readInt8=z.readInt8,t.readInt16LE=z.readInt16LE,t.readInt16BE=z.readInt16BE,t.readInt32LE=z.readInt32LE,t.readInt32BE=z.readInt32BE,t.readFloatLE=z.readFloatLE,t.readFloatBE=z.readFloatBE,t.readDoubleLE=z.readDoubleLE,t.readDoubleBE=z.readDoubleBE,t.writeUInt8=z.writeUInt8,t.writeUInt16LE=z.writeUInt16LE,t.writeUInt16BE=z.writeUInt16BE,t.writeUInt32LE=z.writeUInt32LE,t.writeUInt32BE=z.writeUInt32BE,t.writeInt8=z.writeInt8,t.writeInt16LE=z.writeInt16LE,t.writeInt16BE=z.writeInt16BE,t.writeInt32LE=z.writeInt32LE,t.writeInt32BE=z.writeInt32BE,t.writeFloatLE=z.writeFloatLE,t.writeFloatBE=z.writeFloatBE,t.writeDoubleLE=z.writeDoubleLE,t.writeDoubleBE=z.writeDoubleBE,t.fill=z.fill,t.inspect=z.inspect,t.toArrayBuffer=z.toArrayBuffer,t}},{"base64-js":2,ieee754:3}],2:[function(t,e,r){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===s?62:e===a?63:u>e?-1:u+10>e?e-u+26+26:f+26>e?e-f:c+26>e?e-c+26:void 0}function r(t){function r(t){c[l++]=t}var n,i,s,a,u,c;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var f=t.length;u="="===t.charAt(f-2)?2:"="===t.charAt(f-1)?1:0,c=new o(3*t.length/4-u),s=u>0?t.length-4:t.length;var l=0;for(n=0,i=0;s>n;n+=4,i+=3)a=e(t.charAt(n))<<18|e(t.charAt(n+1))<<12|e(t.charAt(n+2))<<6|e(t.charAt(n+3)),r((16711680&a)>>16),r((65280&a)>>8),r(255&a);return 2===u?(a=e(t.charAt(n))<<2|e(t.charAt(n+1))>>4,r(255&a)):1===u&&(a=e(t.charAt(n))<<10|e(t.charAt(n+1))<<4|e(t.charAt(n+2))>>2,r(a>>8&255),r(255&a)),c}function i(t){function e(t){return n.charAt(t)}function r(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var i,o,s,a=t.length%3,u="";for(i=0,s=t.length-a;s>i;i+=3)o=(t[i]<<16)+(t[i+1]<<8)+t[i+2],u+=r(o);switch(a){case 1:o=t[t.length-1],u+=e(o>>2),u+=e(o<<4&63),u+="==";break;case 2:o=(t[t.length-2]<<8)+t[t.length-1],u+=e(o>>10),u+=e(o>>4&63),u+=e(o<<2&63),u+="="}return u}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),a="/".charCodeAt(0),u="0".charCodeAt(0),c="a".charCodeAt(0),f="A".charCodeAt(0);t.toByteArray=r,t.fromByteArray=i}("undefined"==typeof r?this.base64js={}:r)},{}],3:[function(t,e,r){r.read=function(t,e,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,f=-7,l=r?i-1:0,h=r?-1:1,p=t[e+l];for(l+=h,o=p&(1<<-f)-1,p>>=-f,f+=a;f>0;o=256*o+t[e+l],l+=h,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=256*s+t[e+l],l+=h,f-=8);if(0===o)o=1-c;else{if(o===u)return s?0/0:1/0*(p?-1:1);s+=Math.pow(2,n),o-=c}return(p?-1:1)*s*Math.pow(2,o-n)},r.write=function(t,e,r,n,i,o){var s,a,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,y=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),e+=s+l>=1?h/u:h*Math.pow(2,1-l),e*u>=2&&(s++,u/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(e*u-1)*Math.pow(2,i),s+=l):(a=e*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;t[r+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[r+p]=255&s,p+=d,s/=256,c-=8);t[r+p-d]|=128*y}},{}],4:[function(t,e){function r(){}var n=e.exports={};n.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var r=[];return window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),r.length>0)){var n=r.shift();n()}},!0),function(t){r.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.on=r,n.addListener=r,n.once=r,n.off=r,n.removeListener=r,n.removeAllListeners=r,n.emit=r,n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")}},{}],5:[function(t){(function(t,e){!function(t){"use strict";function e(t){return{configurable:!0,enumerable:!1,value:t,writable:!0}}function r(){return"__$"+Math.floor(1e9*Math.random())+"$"+ ++$+"$__"}function n(){var t=r();return z[t]=!0,t}function i(t){return"object"==typeof t&&t instanceof a}function o(t){return i(t)?"symbol":typeof t}function s(t){var e=new a(t);if(!(this instanceof s))return e;throw new TypeError("Symbol cannot be new'ed")}function a(t){var e=r();O(this,H,{value:this}),O(this,W,{value:e}),O(this,q,{value:t}),c(this),J[e]=this}function u(t){var e=t[Y];return e&&e.self===t?e:F(t)?(K.hash.value=V++,K.self.value=t,G.value=_(null,K),O(t,Y,G),G.value):void 0}function c(t){return u(t),P.apply(this,arguments)}function f(t){return u(t),M.apply(this,arguments)}function l(t){return u(t),U.apply(this,arguments)}function h(t){return i(t)?t[W]:t}function p(t){for(var e=[],r=T(t),n=0;n<r.length;n++){var i=r[n];J[i]||z[i]||e.push(i)}return e}function d(t,e){return N(t,h(e))}function y(t){for(var e=[],r=T(t),n=0;n<r.length;n++){var i=J[r[n]];i&&e.push(i)}return e}function g(t){return R.call(this,h(t))}function m(e){return t.traceur&&t.traceur.options[e]}function v(t,e,r){var n,o;return i(e)&&(n=e,e=e[W]),t[e]=r,n&&(o=N(t,e))&&O(t,e,{enumerable:!1}),r}function b(t,e,r){return i(e)&&(r.enumerable&&(r=_(r,{enumerable:{value:!1}})),e=e[W]),O(t,e,r),t}function w(t){O(t,"defineProperty",{value:b}),O(t,"getOwnPropertyNames",{value:p}),O(t,"getOwnPropertyDescriptor",{value:d}),O(t.prototype,"hasOwnProperty",{value:g}),O(t,"freeze",{value:c}),O(t,"preventExtensions",{value:f}),O(t,"seal",{value:l}),t.getOwnPropertySymbols=y}function k(t){for(var e=1;e<arguments.length;e++)for(var r=T(arguments[e]),n=0;n<r.length;n++){var i=r[n];z[i]||!function(e,r){O(t,r,{get:function(){return e[r]},enumerable:!0})}(arguments[e],r[n])}return t}function A(t){return null!=t&&("object"==typeof t||"function"==typeof t)}function x(t){if(null==t)throw B();return j(t)}function S(t){if(!A(t))throw B(t+" is not an Object");return t}function E(t){t.Symbol=s,w(t.Object)}if(!t.$traceurRuntime){var j=Object,B=TypeError,_=j.create,C=j.defineProperties,O=j.defineProperty,P=j.freeze,N=j.getOwnPropertyDescriptor,T=j.getOwnPropertyNames,I=j.keys,R=j.prototype.hasOwnProperty,M=(j.prototype.toString,Object.preventExtensions),U=Object.seal,F=Object.isExtensible,L={"void":function(){},any:function(){},string:function(){},number:function(){},"boolean":function(){}},D=e,$=0,W=r(),q=r(),H=r(),J=_(null),z=_(null);O(s.prototype,"constructor",e(s)),O(s.prototype,"toString",D(function(){var t=this[H];if(!m("symbols"))return t[W];if(!t)throw TypeError("Conversion from symbol to string");var e=t[q];return void 0===e&&(e=""),"Symbol("+e+")"})),O(s.prototype,"valueOf",D(function(){var t=this[H];if(!t)throw TypeError("Conversion from symbol to string");return m("symbols")?t:t[W]})),O(a.prototype,"constructor",e(s)),O(a.prototype,"toString",{value:s.prototype.toString,enumerable:!1}),O(a.prototype,"valueOf",{value:s.prototype.valueOf,enumerable:!1});var Y=n(),G={value:void 0},K={hash:{value:void 0},self:{value:void 0}},V=0;s.iterator=s(),c(a.prototype),E(t),t.$traceurRuntime={assertObject:S,createPrivateName:n,exportStar:k,getOwnHashObject:u,privateNames:z,setProperty:v,setupGlobals:E,toObject:x,toProperty:h,type:L,"typeof":o,defineProperties:C,defineProperty:O,getOwnPropertyDescriptor:N,getOwnPropertyNames:T,keys:I}}}("undefined"!=typeof e?e:this),function(){"use strict";function t(){for(var t=[],r=0,n=0;n<arguments.length;n++)for(var i=e(arguments[n]),o=0;o<i.length;o++)t[r++]=i[o];return t}var e=$traceurRuntime.toObject;$traceurRuntime.spread=t}(),function(){"use strict";function t(t,e){var r=y(t);do{var n=p(r,e);if(n)return n;r=y(r)}while(r);return void 0}function e(t,e,n,i){return r(t,e,n).apply(t,i)}function r(e,r,n){var i=t(r,n);return i?i.get?i.get.call(e):i.value:void 0}function n(e,r,n,i){var o=t(r,n);if(o&&o.set)return o.set.call(e,i),i;throw c("super has no setter '"+n+"'.")}function i(t){for(var e,r={},n=d(t),i=0;i<n.length;i++){var e=n[i];r[e]=p(t,e)}return r}function o(t,e,r,n){return h(e,"constructor",{value:t,configurable:!0,enumerable:!1,writable:!0}),arguments.length>3?("function"==typeof n&&(t.__proto__=n),t.prototype=f(s(n),i(e))):t.prototype=e,h(t,"prototype",{configurable:!1,writable:!1}),l(t,i(r))}function s(t){if("function"==typeof t){var e=t.prototype;if(u(e)===e||null===e)return t.prototype}if(null===t)return null;throw new c}function a(t,r,n){null!==y(r)&&e(t,r,"constructor",n)}var u=Object,c=TypeError,f=u.create,l=$traceurRuntime.defineProperties,h=$traceurRuntime.defineProperty,p=$traceurRuntime.getOwnPropertyDescriptor,d=$traceurRuntime.getOwnPropertyNames,y=Object.getPrototypeOf;$traceurRuntime.createClass=o,$traceurRuntime.defaultSuperCall=a,$traceurRuntime.superCall=e,$traceurRuntime.superGet=r,$traceurRuntime.superSet=n}(),function(){"use strict";function t(t){return{configurable:!0,enumerable:!1,value:t,writable:!0}}function e(t){return new Error("Traceur compiler bug: invalid state in state machine: "+t)}function r(){this.state=0,this.GState=m,this.storedException=void 0,this.finallyFallThrough=void 0,this.sent_=void 0,this.returnValue=void 0,this.tryStack_=[]}function n(t,e,r,n){switch(t.GState){case v:throw new Error('"'+r+'" on executing generator');case w:if("next"==r)return{value:void 0,done:!0};throw new Error('"'+r+'" on closed generator');case m:if("throw"===r)throw t.GState=w,n;if(void 0!==n)throw g("Sent value to newborn generator");case b:t.GState=v,t.action=r,t.sent=n;var i=e(t),o=i===t;return o&&(i=t.returnValue),t.GState=o?w:b,{value:i,done:o}}}function i(){}function o(){}function s(t,e,n){var i=f(t,n),o=new r,s=y(e.prototype);return s[x]=o,s[S]=i,s}function a(t){return t.prototype=y(o.prototype),t.__proto__=o,t}function u(){r.call(this),this.err=void 0;var t=this;t.result=new Promise(function(e,r){t.resolve=e,t.reject=r})}function c(t,e){var r=f(t,e),n=new u;return n.createCallback=function(t){return function(e){n.state=t,n.value=e,r(n)}},n.errback=function(t){l(n,t),r(n)},r(n),n.result}function f(t,e){return function(r){for(;;)try{return t.call(e,r)}catch(n){l(r,n)}}}function l(t,e){t.storedException=e;var r=t.tryStack_[t.tryStack_.length-1];return r?(t.state=void 0!==r.catch?r.catch:r.finally,void(void 0!==r.finallyFallThrough&&(t.finallyFallThrough=r.finallyFallThrough))):void t.handleException(e)}var h=$traceurRuntime.createPrivateName,p=$traceurRuntime.defineProperties,d=$traceurRuntime.defineProperty,y=Object.create,g=TypeError,m=0,v=1,b=2,w=3,k=-2,A=-3;r.prototype={pushTry:function(t,e){if(null!==e){for(var r=null,n=this.tryStack_.length-1;n>=0;n--)if(void 0!==this.tryStack_[n].catch){r=this.tryStack_[n].catch;break}null===r&&(r=A),this.tryStack_.push({"finally":e,finallyFallThrough:r})}null!==t&&this.tryStack_.push({"catch":t})},popTry:function(){this.tryStack_.pop()},get sent(){return this.maybeThrow(),this.sent_},set sent(t){this.sent_=t},get sentIgnoreThrow(){return this.sent_},maybeThrow:function(){if("throw"===this.action)throw this.action="next",this.sent_},end:function(){switch(this.state){case k:return this;case A:throw this.storedException;default:throw e(this.state)}},handleException:function(t){throw this.GState=w,this.state=k,t}};var x=h(),S=h();i.prototype=o,d(o,"constructor",t(i)),o.prototype={constructor:o,next:function(t){return n(this[x],this[S],"next",t)},"throw":function(t){return n(this[x],this[S],"throw",t)}},p(o.prototype,{constructor:{enumerable:!1},next:{enumerable:!1},"throw":{enumerable:!1}}),Object.defineProperty(o.prototype,Symbol.iterator,t(function(){return this})),u.prototype=y(r.prototype),u.prototype.end=function(){switch(this.state){case k:this.resolve(this.returnValue);break;case A:this.reject(this.storedException);break;default:this.reject(e(this.state))}},u.prototype.handleException=function(){this.state=A},$traceurRuntime.asyncWrap=c,$traceurRuntime.initGeneratorFunction=a,$traceurRuntime.createGeneratorInstance=s}(),function(){function t(t,e,r,n,i,o,s){var a=[];return t&&a.push(t,":"),r&&(a.push("//"),e&&a.push(e,"@"),a.push(r),n&&a.push(":",n)),i&&a.push(i),o&&a.push("?",o),s&&a.push("#",s),a.join("")}function e(t){return t.match(a)}function r(t){if("/"===t)return"/";for(var e="/"===t[0]?"/":"",r="/"===t.slice(-1)?"/":"",n=t.split("/"),i=[],o=0,s=0;s<n.length;s++){var a=n[s];switch(a){case"":case".":break;case"..":i.length?i.pop():o++;break;default:i.push(a)}}if(!e){for(;o-->0;)i.unshift("..");0===i.length&&i.push(".")}return e+i.join("/")+r}function n(e){var n=e[u.PATH]||"";return n=r(n),e[u.PATH]=n,t(e[u.SCHEME],e[u.USER_INFO],e[u.DOMAIN],e[u.PORT],e[u.PATH],e[u.QUERY_DATA],e[u.FRAGMENT])}function i(t){var r=e(t);return n(r)}function o(t,r){var i=e(r),o=e(t);if(i[u.SCHEME])return n(i);i[u.SCHEME]=o[u.SCHEME];for(var s=u.SCHEME;s<=u.PORT;s++)i[s]||(i[s]=o[s]);if("/"==i[u.PATH][0])return n(i);var a=o[u.PATH],c=a.lastIndexOf("/");return a=a.slice(0,c+1)+i[u.PATH],i[u.PATH]=a,n(i)}function s(t){if(!t)return!1;if("/"===t[0])return!0;var r=e(t);return r[u.SCHEME]?!0:!1}var a=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),u={SCHEME:1,USER_INFO:2,DOMAIN:3,PORT:4,PATH:5,QUERY_DATA:6,FRAGMENT:7};$traceurRuntime.canonicalizeUrl=i,$traceurRuntime.isAbsolute=s,$traceurRuntime.removeDotSegments=r,$traceurRuntime.resolveUrl=o}(),function(t){"use strict";function e(t){if(t){var e=d.normalize(t);return u[e]}}function r(t){var e=arguments[1],r=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(n){var i,o;if(e===p){var s=Object.getOwnPropertyDescriptor(t,n);s.get&&(i=s.get)}i||(o=t[n],i=function(){return o}),Object.defineProperty(r,n,{get:i,enumerable:!0})}),Object.preventExtensions(r),r}var n,i=$traceurRuntime.assertObject($traceurRuntime),o=i.canonicalizeUrl,s=i.resolveUrl,a=i.isAbsolute,u=Object.create(null);n=t.location&&t.location.href?s(t.location.href,"./"):"";var c=function(t,e){this.url=t,this.value_=e};$traceurRuntime.createClass(c,{},{});var f=function(t,e){$traceurRuntime.superCall(this,l.prototype,"constructor",[t,null]),this.func=e},l=f;$traceurRuntime.createClass(f,{getUncoatedModule:function(){return this.value_?this.value_:this.value_=this.func.call(t)}},{},c);var h=Object.create(null),p={},d={normalize:function(t,e){if("string"!=typeof t)throw new TypeError("module name must be a string, not "+typeof t);if(a(t))return o(t);if(/[^\.]\/\.\.\//.test(t))throw new Error("module name embeds /../: "+t);return"."===t[0]&&e?s(e,t):o(t)},get:function(t){var n=e(t);if(!n)return void 0;var i=h[n.url];return i?i:(i=r(n.getUncoatedModule(),p),h[n.url]=i)},set:function(t,e){t=String(t),u[t]=new f(t,function(){return e}),h[t]=e},get baseURL(){return n},set baseURL(t){n=String(t)},registerModule:function(t,e){var r=d.normalize(t);if(u[r])throw new Error("duplicate module named "+r);u[r]=new f(r,e)},bundleStore:Object.create(null),register:function(t,e,r){e&&(e.length||r.length)?this.bundleStore[t]={deps:e,execute:function(){var t=arguments,n={};e.forEach(function(e,r){return n[e]=t[r]});var i=r.call(this,n);return i.execute.call(this),i.exports}}:this.registerModule(t,r)},getAnonymousModule:function(e){return new r(e.call(t),p)},getForTesting:function(t){var e=this;return this.testingPrefix_||Object.keys(h).some(function(t){var r=/(traceur@[^\/]*\/)/.exec(t);return r?(e.testingPrefix_=r[1],!0):void 0}),this.get(this.testingPrefix_+t)}};d.set("@traceur/src/runtime/ModuleStore",new r({ModuleStore:d}));var y=$traceurRuntime.setupGlobals;$traceurRuntime.setupGlobals=function(t){y(t)},$traceurRuntime.ModuleStore=d,t.System={register:d.register.bind(d),get:d.get,set:d.set,normalize:d.normalize},$traceurRuntime.getModuleImpl=function(t){var r=e(t);return r&&r.getUncoatedModule()}}("undefined"!=typeof e?e:this),System.register("traceur-runtime@0.0.42/src/runtime/polyfills/utils",[],function(){"use strict";function t(t){return 0|t}function e(t){return t&&("object"==typeof t||"function"==typeof t)}function r(t){return"function"==typeof t}function n(t){return t=+t,isNaN(t)?0:isFinite(t)&&0!==t?t>0?Math.floor(t):Math.ceil(t):t}function i(t){var e=n(t);return 0>e?0:Math.min(e,s)}var o=$traceurRuntime.toObject,s=Math.pow(2,53)-1;return{get toObject(){return o},get toUint32(){return t},get isObject(){return e},get isCallable(){return r},get toInteger(){return n},get toLength(){return i}}}),System.register("traceur-runtime@0.0.42/src/runtime/polyfills/Array",[],function(){"use strict";function t(t){var e=void 0!==arguments[1]?arguments[1]:0,r=arguments[2],n=a(this),i=s(n.length),u=o(e),c=void 0!==r?o(r):i;for(u=0>u?Math.max(i+u,0):Math.min(u,i),c=0>c?Math.max(i+c,0):Math.min(c,i);c>u;)n[u]=t,u++;return n}function e(t){var e=arguments[1];return n(this,t,e)}function r(t){var e=arguments[1];return n(this,t,e,!0)}function n(t,e){var r=arguments[2],n=void 0!==arguments[3]?arguments[3]:!1,i=a(t),o=s(i.length);if(!u(e))throw TypeError();for(var c=0;o>c;c++)if(c in i){var f=i[c];if(e.call(r,f,c,i))return n?c:f}return n?-1:void 0}var i=$traceurRuntime.assertObject(System.get("traceur-runtime@0.0.42/src/runtime/polyfills/utils")),o=i.toInteger,s=i.toLength,a=i.toObject,u=i.isCallable;return{get fill(){return t
},get find(){return e},get findIndex(){return r}}}),System.register("traceur-runtime@0.0.42/src/runtime/polyfills/ArrayIterator",[],function(){"use strict";function t(t,e){var r=a(t),n=new h;return n.iteratorObject_=r,n.arrayIteratorNextIndex_=0,n.arrayIterationKind_=e,n}function e(t,e){return{value:t,done:e}}function r(){return t(this,l)}function n(){return t(this,c)}function i(){return t(this,f)}var o,s=$traceurRuntime.assertObject(System.get("traceur-runtime@0.0.42/src/runtime/polyfills/utils")),a=s.toObject,u=s.toUint32,c=1,f=2,l=3,h=function(){};return $traceurRuntime.createClass(h,(o={},Object.defineProperty(o,"next",{value:function(){var t=a(this),r=t.iteratorObject_;if(!r)throw new TypeError("Object is not an ArrayIterator");var n=t.arrayIteratorNextIndex_,i=t.arrayIterationKind_,o=u(r.length);return n>=o?(t.arrayIteratorNextIndex_=1/0,e(void 0,!0)):(t.arrayIteratorNextIndex_=n+1,i==f?e(r[n],!1):i==l?e([n,r[n]],!1):e(n,!1))},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(o,Symbol.iterator,{value:function(){return this},configurable:!0,enumerable:!0,writable:!0}),o),{}),{get entries(){return r},get keys(){return n},get values(){return i}}}),System.register("traceur-runtime@0.0.42/src/runtime/polyfills/Map",[],function(){"use strict";function t(t,e){if(r(e)){var i=n(e);return i&&t.objectIndex_[i.hash]}return"string"==typeof e?t.stringIndex_[e]:t.primitiveIndex_[e]}function e(t){t.entries_=[],t.objectIndex_=Object.create(null),t.stringIndex_=Object.create(null),t.primitiveIndex_=Object.create(null),t.deletedCount_=0}var r=$traceurRuntime.assertObject(System.get("traceur-runtime@0.0.42/src/runtime/polyfills/utils")).isObject,n=$traceurRuntime.getOwnHashObject,i=Object.prototype.hasOwnProperty,o={},s=function(){var t=arguments[0];if(!r(this))throw new TypeError("Constructor Map requires 'new'");if(i.call(this,"entries_"))throw new TypeError("Map can not be reentrantly initialised");if(e(this),null!==t&&void 0!==t){var n=t[Symbol.iterator];if(void 0!==n)for(var o,s=t[Symbol.iterator]();!(o=s.next()).done;){var a=$traceurRuntime.assertObject(o.value),u=a[0],c=a[1];this.set(u,c)}}};return $traceurRuntime.createClass(s,{get size(){return this.entries_.length/2-this.deletedCount_},get:function(e){var r=t(this,e);return void 0!==r?this.entries_[r+1]:void 0},set:function(e,i){var o=r(e),s="string"==typeof e,a=t(this,e);if(void 0!==a)this.entries_[a+1]=i;else if(a=this.entries_.length,this.entries_[a]=e,this.entries_[a+1]=i,o){var u=n(e),c=u.hash;this.objectIndex_[c]=a}else s?this.stringIndex_[e]=a:this.primitiveIndex_[e]=a;return this},has:function(e){return void 0!==t(this,e)},"delete":function(t){var e,i,s=r(t),a="string"==typeof t;if(s){var u=n(t);u&&(e=this.objectIndex_[i=u.hash],delete this.objectIndex_[i])}else a?(e=this.stringIndex_[t],delete this.stringIndex_[t]):(e=this.primitiveIndex_[t],delete this.primitiveIndex_[t]);void 0!==e&&(this.entries_[e]=o,this.entries_[e+1]=void 0,this.deletedCount_++)},clear:function(){e(this)},forEach:function(t){for(var e=arguments[1],r=0,n=this.entries_.length;n>r;r+=2){var i=this.entries_[r],s=this.entries_[r+1];i!==o&&t.call(e,s,i,this)}}},{}),{get Map(){return s}}}),System.register("traceur-runtime@0.0.42/src/runtime/polyfills/Object",[],function(){"use strict";function t(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}function e(t){for(var e=1;e<arguments.length;e++){var r,n=arguments[e],i=a(n),o=i.length;for(r=0;o>r;r++){var s=i[r];u[s]||(t[s]=n[s])}}return t}function r(t,e){var r,n,a=s(e),c=a.length;for(r=0;c>r;r++){var f=a[r];u[f]||(n=o(e,a[r]),i(t,a[r],n))}return t}var n=$traceurRuntime.assertObject(System.get("traceur-runtime@0.0.42/src/runtime/polyfills/utils")),n=(n.toInteger,n.toLength,n.toObject,n.isCallable,$traceurRuntime.assertObject($traceurRuntime)),i=n.defineProperty,o=n.getOwnPropertyDescriptor,s=n.getOwnPropertyNames,a=n.keys,u=n.privateNames;return{get is(){return t},get assign(){return e},get mixin(){return r}}}),System.register("traceur-runtime@0.0.42/node_modules/rsvp/lib/rsvp/asap",[],function(){"use strict";function e(){return function(){t.nextTick(i)}}function r(){var t=0,e=new u(i),r=document.createTextNode("");return e.observe(r,{characterData:!0}),function(){r.data=t=++t%2}}function n(){return function(){setTimeout(i,1)}}function i(){for(var t=0;t<c.length;t++){var e=c[t],r=e[0],n=e[1];r(n)}c=[]}var o,s=function(t,e){var r=c.push([t,e]);1===r&&o()},a="undefined"!=typeof window?window:{},u=a.MutationObserver||a.WebKitMutationObserver,c=[];return o="undefined"!=typeof t&&"[object process]"==={}.toString.call(t)?e():u?r():n(),{get default(){return s}}}),System.register("traceur-runtime@0.0.42/src/runtime/polyfills/Promise",[],function(){"use strict";function t(t){return t&&"object"==typeof t&&void 0!==t.status_}function e(t){return t}function r(t){throw t}function n(t){var n=void 0!==arguments[1]?arguments[1]:e,o=void 0!==arguments[2]?arguments[2]:r,s=i(t.constructor);switch(t.status_){case void 0:throw TypeError;case 0:t.onResolve_.push(n,s),t.onReject_.push(o,s);break;case 1:f(t.value_,[n,s]);break;case-1:f(t.value_,[o,s])}return s.promise}function i(t){if(this===m){var e=s(new m(y));return{promise:e,resolve:function(t){a(e,t)},reject:function(t){u(e,t)}}}var r={};return r.promise=new t(function(t,e){r.resolve=t,r.reject=e}),r}function o(t,e,r,n,i){return t.status_=e,t.value_=r,t.onResolve_=n,t.onReject_=i,t}function s(t){return o(t,0,void 0,[],[])}function a(t,e){c(t,1,e,t.onResolve_)}function u(t,e){c(t,-1,e,t.onReject_)}function c(t,e,r,n){0===t.status_&&(f(r,n),o(t,e,r))}function f(t,e){d(function(){for(var r=0;r<e.length;r+=2)l(t,e[r],e[r+1])})}function l(e,r,i){try{var o=r(e);if(o===i.promise)throw new TypeError;t(o)?n(o,i.resolve,i.reject):i.resolve(o)}catch(s){try{i.reject(s)}catch(s){}}}function h(t){return t&&("object"==typeof t||"function"==typeof t)}function p(e,r){if(!t(r)&&h(r)){var n;try{n=r.then}catch(o){var s=v.call(e,o);return r[b]=s,s}if("function"==typeof n){var a=r[b];if(a)return a;var u=i(e);r[b]=u.promise;try{n.call(r,u.resolve,u.reject)}catch(o){u.reject(o)}return u.promise}}return r}var d=$traceurRuntime.assertObject(System.get("traceur-runtime@0.0.42/node_modules/rsvp/lib/rsvp/asap")).default,y={},g=function(t){if(t!==y){if("function"!=typeof t)throw new TypeError;var e=s(this);try{t(function(t){a(e,t)},function(t){u(e,t)})}catch(r){u(e,r)}}};$traceurRuntime.createClass(g,{"catch":function(t){return this.then(void 0,t)},then:function(i,o){"function"!=typeof i&&(i=e),"function"!=typeof o&&(o=r);var s=this,a=this.constructor;return n(this,function(e){return e=p(a,e),e===s?o(new TypeError):t(e)?e.then(i,o):i(e)},o)}},{resolve:function(t){return this===m?o(new m(y),1,t):new this(function(e){e(t)})},reject:function(t){return this===m?o(new m(y),-1,t):new this(function(e,r){r(t)})},cast:function(e){if(e instanceof this)return e;if(t(e)){var r=i(this);return n(e,r.resolve,r.reject),r.promise}return this.resolve(e)},all:function(t){var e=i(this),r=[];try{var n=t.length;if(0===n)e.resolve(r);else for(var o=0;o<t.length;o++)this.resolve(t[o]).then(function(t,i){r[t]=i,0===--n&&e.resolve(r)}.bind(void 0,o),function(t){e.reject(t)})}catch(s){e.reject(s)}return e.promise},race:function(t){var e=i(this);try{for(var r=0;r<t.length;r++)this.resolve(t[r]).then(function(t){e.resolve(t)},function(t){e.reject(t)})}catch(n){e.reject(n)}return e.promise}});var m=g,v=m.reject,b="@@thenable";return{get Promise(){return g}}}),System.register("traceur-runtime@0.0.42/src/runtime/polyfills/String",[],function(){"use strict";function t(t){var e=String(this);if(null==this||"[object RegExp]"==a.call(t))throw TypeError();var r=e.length,n=String(t),i=(n.length,arguments.length>1?arguments[1]:void 0),o=i?Number(i):0;isNaN(o)&&(o=0);var s=Math.min(Math.max(o,0),r);return u.call(e,n,o)==s}function e(t){var e=String(this);if(null==this||"[object RegExp]"==a.call(t))throw TypeError();var r=e.length,n=String(t),i=n.length,o=r;if(arguments.length>1){var s=arguments[1];void 0!==s&&(o=s?Number(s):0,isNaN(o)&&(o=0))}var u=Math.min(Math.max(o,0),r),f=u-i;return 0>f?!1:c.call(e,n,f)==f}function r(t){if(null==this)throw TypeError();var e=String(this),r=e.length,n=String(t),i=(n.length,arguments.length>1?arguments[1]:void 0),o=i?Number(i):0;isNaN(o)&&(o=0);Math.min(Math.max(o,0),r);return-1!=u.call(e,n,o)}function n(t){if(null==this)throw TypeError();var e=String(this),r=t?Number(t):0;if(isNaN(r)&&(r=0),0>r||1/0==r)throw RangeError();if(0==r)return"";for(var n="";r--;)n+=e;return n}function i(t){if(null==this)throw TypeError();var e=String(this),r=e.length,n=t?Number(t):0;if(isNaN(n)&&(n=0),0>n||n>=r)return void 0;var i,o=e.charCodeAt(n);return o>=55296&&56319>=o&&r>n+1&&(i=e.charCodeAt(n+1),i>=56320&&57343>=i)?1024*(o-55296)+i-56320+65536:o}function o(t){var e=t.raw,r=e.length>>>0;if(0===r)return"";for(var n="",i=0;;){if(n+=e[i],i+1===r)return n;n+=arguments[++i]}}function s(){var t,e,r=[],n=Math.floor,i=-1,o=arguments.length;if(!o)return"";for(;++i<o;){var s=Number(arguments[i]);if(!isFinite(s)||0>s||s>1114111||n(s)!=s)throw RangeError("Invalid code point: "+s);65535>=s?r.push(s):(s-=65536,t=(s>>10)+55296,e=s%1024+56320,r.push(t,e))}return String.fromCharCode.apply(null,r)}var a=Object.prototype.toString,u=String.prototype.indexOf,c=String.prototype.lastIndexOf;return{get startsWith(){return t},get endsWith(){return e},get contains(){return r},get repeat(){return n},get codePointAt(){return i},get raw(){return o},get fromCodePoint(){return s}}}),System.register("traceur-runtime@0.0.42/src/runtime/polyfills/polyfills",[],function(){"use strict";function t(t,e,r){e in t||Object.defineProperty(t,e,{value:r,configurable:!0,enumerable:!1,writable:!0})}function e(e,r){for(var n=0;n<r.length;n+=2){var i=r[n],o=r[n+1];t(e,i,o)}}function r(t){t.Promise||(t.Promise=c)}function n(t){t.Map||(t.Map=u)}function i(t){e(t.prototype,["codePointAt",l,"contains",h,"endsWith",p,"startsWith",m,"repeat",y]),e(t,["fromCodePoint",d,"raw",g])}function o(t,r){e(t.prototype,["entries",k,"keys",A,"values",x,"fill",v,"find",b,"findIndex",w]),r&&r.iterator&&Object.defineProperty(t.prototype,r.iterator,{value:x,configurable:!0,enumerable:!1,writable:!0})}function s(t){e(t,["assign",S,"is",E,"mixin",j])}function a(t){r(t),n(t),i(t.String),o(t.Array,t.Symbol),s(t.Object)}var u=$traceurRuntime.assertObject(System.get("traceur-runtime@0.0.42/src/runtime/polyfills/Map")).Map,c=$traceurRuntime.assertObject(System.get("traceur-runtime@0.0.42/src/runtime/polyfills/Promise")).Promise,f=$traceurRuntime.assertObject(System.get("traceur-runtime@0.0.42/src/runtime/polyfills/String")),l=f.codePointAt,h=f.contains,p=f.endsWith,d=f.fromCodePoint,y=f.repeat,g=f.raw,m=f.startsWith,f=$traceurRuntime.assertObject(System.get("traceur-runtime@0.0.42/src/runtime/polyfills/Array")),v=f.fill,b=f.find,w=f.findIndex,f=$traceurRuntime.assertObject(System.get("traceur-runtime@0.0.42/src/runtime/polyfills/ArrayIterator")),k=f.entries,A=f.keys,x=f.values,f=$traceurRuntime.assertObject(System.get("traceur-runtime@0.0.42/src/runtime/polyfills/Object")),S=f.assign,E=f.is,j=f.mixin;a(this);var B=$traceurRuntime.setupGlobals;return $traceurRuntime.setupGlobals=function(t){B(t),a(t)},{}}),System.register("traceur-runtime@0.0.42/src/runtime/polyfill-import",[],function(){"use strict";$traceurRuntime.assertObject(System.get("traceur-runtime@0.0.42/src/runtime/polyfills/polyfills"));return{}}),System.get("traceur-runtime@0.0.42/src/runtime/polyfill-import")}).call(this,t("FWaASH"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{FWaASH:4}],6:[function(t,e){"use strict";e.exports=t("./src/PathFinding")},{"./src/PathFinding":9}],7:[function(t,e){e.exports=t("./lib/heap")},{"./lib/heap":8}],8:[function(t,e){(function(){var t,r,n,i,o,s,a,u,c,f,l,h,p,d,y;n=Math.floor,f=Math.min,r=function(t,e){return e>t?-1:t>e?1:0},c=function(t,e,i,o,s){var a;if(null==i&&(i=0),null==s&&(s=r),0>i)throw new Error("lo must be non-negative");for(null==o&&(o=t.length);o>i;)a=n((i+o)/2),s(e,t[a])<0?o=a:i=a+1;return[].splice.apply(t,[i,i-i].concat(e)),e},s=function(t,e,n){return null==n&&(n=r),t.push(e),d(t,0,t.length-1,n)},o=function(t,e){var n,i;return null==e&&(e=r),n=t.pop(),t.length?(i=t[0],t[0]=n,y(t,0,e)):i=n,i},u=function(t,e,n){var i;return null==n&&(n=r),i=t[0],t[0]=e,y(t,0,n),i},a=function(t,e,n){var i;return null==n&&(n=r),t.length&&n(t[0],e)<0&&(i=[t[0],e],e=i[0],t[0]=i[1],y(t,0,n)),e},i=function(t,e){var i,o,s,a,u,c;for(null==e&&(e=r),a=function(){c=[];for(var e=0,r=n(t.length/2);r>=0?r>e:e>r;r>=0?e++:e--)c.push(e);return c}.apply(this).reverse(),u=[],o=0,s=a.length;s>o;o++)i=a[o],u.push(y(t,i,e));return u},p=function(t,e,n){var i;return null==n&&(n=r),i=t.indexOf(e),-1!==i?(d(t,0,i,n),y(t,i,n)):void 0},l=function(t,e,n){var o,s,u,c,f;if(null==n&&(n=r),s=t.slice(0,e),!s.length)return s;for(i(s,n),f=t.slice(e),u=0,c=f.length;c>u;u++)o=f[u],a(s,o,n);return s.sort(n).reverse()},h=function(t,e,n){var s,a,u,l,h,p,d,y,g,m;if(null==n&&(n=r),10*e<=t.length){if(l=t.slice(0,e).sort(n),!l.length)return l;for(u=l[l.length-1],y=t.slice(e),h=0,d=y.length;d>h;h++)s=y[h],n(s,u)<0&&(c(l,s,0,null,n),l.pop(),u=l[l.length-1]);return l}for(i(t,n),m=[],a=p=0,g=f(e,t.length);g>=0?g>p:p>g;a=g>=0?++p:--p)m.push(o(t,n));return m},d=function(t,e,n,i){var o,s,a;for(null==i&&(i=r),o=t[n];n>e&&(a=n-1>>1,s=t[a],i(o,s)<0);)t[n]=s,n=a;return t[n]=o},y=function(t,e,n){var i,o,s,a,u;for(null==n&&(n=r),o=t.length,u=e,s=t[e],i=2*e+1;o>i;)a=i+1,o>a&&!(n(t[i],t[a])<0)&&(i=a),t[e]=t[i],e=i,i=2*e+1;return t[e]=s,d(t,u,e,n)},t=function(){function t(t){this.cmp=null!=t?t:r,this.nodes=[]}return t.push=s,t.pop=o,t.replace=u,t.pushpop=a,t.heapify=i,t.nlargest=l,t.nsmallest=h,t.prototype.push=function(t){return s(this.nodes,t,this.cmp)},t.prototype.pop=function(){return o(this.nodes,this.cmp)},t.prototype.peek=function(){return this.nodes[0]},t.prototype.contains=function(t){return-1!==this.nodes.indexOf(t)},t.prototype.replace=function(t){return u(this.nodes,t,this.cmp)},t.prototype.pushpop=function(t){return a(this.nodes,t,this.cmp)},t.prototype.heapify=function(){return i(this.nodes,this.cmp)},t.prototype.updateItem=function(t){return p(this.nodes,t,this.cmp)},t.prototype.clear=function(){return this.nodes=[]},t.prototype.empty=function(){return 0===this.nodes.length},t.prototype.size=function(){return this.nodes.length},t.prototype.clone=function(){var e;return e=new t,e.nodes=this.nodes.slice(0),e},t.prototype.toArray=function(){return this.nodes.slice(0)},t.prototype.insert=t.prototype.push,t.prototype.remove=t.prototype.pop,t.prototype.top=t.prototype.peek,t.prototype.front=t.prototype.peek,t.prototype.has=t.prototype.contains,t.prototype.copy=t.prototype.clone,t}(),("undefined"!=typeof e&&null!==e?e.exports:void 0)?e.exports=t:window.Heap=t}).call(this)},{}],9:[function(t,e){"use strict";e.exports={Heap:t("heap"),Node:t("./core/Node"),Grid:t("./core/Grid"),Util:t("./core/Util"),Heuristic:t("./core/Heuristic"),AStarFinder:t("./finders/AStarFinder"),BestFirstFinder:t("./finders/BestFirstFinder"),BreadthFirstFinder:t("./finders/BreadthFirstFinder"),DijkstraFinder:t("./finders/DijkstraFinder"),BiAStarFinder:t("./finders/BiAStarFinder"),BiBestFirstFinder:t("./finders/BiBestFirstFinder"),BiBreadthFirstFinder:t("./finders/BiBreadthFirstFinder"),BiDijkstraFinder:t("./finders/BiDijkstraFinder"),IDAStarFinder:t("./finders/IDAStarFinder"),JumpPointFinder:t("./finders/JumpPointFinder"),OrthogonalJumpPointFinder:t("./finders/OrthogonalJumpPointFinder"),TraceFinder:t("./finders/TraceFinder")}},{"./core/Grid":10,"./core/Heuristic":11,"./core/Node":12,"./core/Util":13,"./finders/AStarFinder":14,"./finders/BestFirstFinder":15,"./finders/BiAStarFinder":16,"./finders/BiBestFirstFinder":17,"./finders/BiBreadthFirstFinder":18,"./finders/BiDijkstraFinder":19,"./finders/BreadthFirstFinder":20,"./finders/DijkstraFinder":21,"./finders/IDAStarFinder":22,"./finders/JumpPointFinder":23,"./finders/OrthogonalJumpPointFinder":24,"./finders/TraceFinder":25,heap:7}],10:[function(t,e){"use strict";function r(t,e,r){this.width=t,this.height=e,this.nodes=this._buildNodes(t,e,r)}var n=t("./Node");r.prototype._buildNodes=function(t,e,r){var i,o,s=new Array(e);for(i=0;e>i;++i)for(s[i]=new Array(t),o=0;t>o;++o)s[i][o]=new n(o,i);if(void 0===r)return s;if(r.length!==e||r[0].length!==t)throw new Error("Matrix size does not fit");for(i=0;e>i;++i)for(o=0;t>o;++o)r[i][o]&&(s[i][o].walkable=!1);return s},r.prototype.getNodeAt=function(t,e){return this.nodes[e][t]},r.prototype.isWalkableAt=function(t,e){return this.isInside(t,e)&&this.nodes[e][t].walkable},r.prototype.isInside=function(t,e){return t>=0&&t<this.width&&e>=0&&e<this.height},r.prototype.setWalkableAt=function(t,e,r){this.nodes[e][t].walkable=r},r.prototype.getNeighbors=function(t,e,r){var n=t.x,i=t.y,o=[],s=!1,a=!1,u=!1,c=!1,f=!1,l=!1,h=!1,p=!1,d=this.nodes;return this.isWalkableAt(n,i-1)&&(o.push(d[i-1][n]),s=!0),this.isWalkableAt(n+1,i)&&(o.push(d[i][n+1]),u=!0),this.isWalkableAt(n,i+1)&&(o.push(d[i+1][n]),f=!0),this.isWalkableAt(n-1,i)&&(o.push(d[i][n-1]),h=!0),e?(r?(a=h&&s,c=s&&u,l=u&&f,p=f&&h):(a=h||s,c=s||u,l=u||f,p=f||h),a&&this.isWalkableAt(n-1,i-1)&&o.push(d[i-1][n-1]),c&&this.isWalkableAt(n+1,i-1)&&o.push(d[i-1][n+1]),l&&this.isWalkableAt(n+1,i+1)&&o.push(d[i+1][n+1]),p&&this.isWalkableAt(n-1,i+1)&&o.push(d[i+1][n-1]),o):o},r.prototype.clone=function(){var t,e,i=this.width,o=this.height,s=this.nodes,a=new r(i,o),u=new Array(o);for(t=0;o>t;++t)for(u[t]=new Array(i),e=0;i>e;++e)u[t][e]=new n(e,t,s[t][e].walkable);return a.nodes=u,a},e.exports=r},{"./Node":12}],11:[function(t,e){"use strict";e.exports={manhattan:function(t,e){return t+e},euclidean:function(t,e){return Math.sqrt(t*t+e*e)},chebyshev:function(t,e){return Math.max(t,e)}}},{}],12:[function(t,e){"use strict";function r(t,e,r){this.x=t,this.y=e,this.walkable=void 0===r?!0:r}e.exports=r},{}],13:[function(t,e,r){"use strict";function n(t){for(var e=[[t.x,t.y]];t.parent;)t=t.parent,e.push([t.x,t.y]);return e.reverse()}function i(t,e){var r=n(t),i=n(e);return r.concat(i.reverse())}function o(t){var e,r,n,i,o,s=0;for(e=1;e<t.length;++e)r=t[e-1],n=t[e],i=r[0]-n[0],o=r[1]-n[1],s+=Math.sqrt(i*i+o*o);return s}function s(t,e,r,n){var i,o,s,a,u,c,f=Math.abs,l=[];for(s=f(r-t),a=f(n-e),i=r>t?1:-1,o=n>e?1:-1,u=s-a;;){if(l.push([t,e]),t===r&&e===n)break;c=2*u,c>-a&&(u-=a,t+=i),s>c&&(u+=s,e+=o)}return l}function a(t){var e,r,n,i,o,a,u=[],c=t.length;if(2>c)return u;for(o=0;c-1>o;++o)for(e=t[o],r=t[o+1],n=s(e[0],e[1],r[0],r[1]),i=n.length,a=0;i-1>a;++a)u.push(n[a]);return u.push(t[c-1]),u}function u(t,e){var r,n,i,o,a,u,c,f,l,h,p,d,y,g=e.length,m=e[0][0],v=e[0][1],b=e[g-1][0],w=e[g-1][1];for(r=m,n=v,a=e[1][0],u=e[1][1],c=[[r,n]],f=2;g>f;++f){for(h=e[f],i=h[0],o=h[1],p=s(r,n,i,o),y=!1,l=1;l<p.length;++l)if(d=p[l],!t.isWalkableAt(d[0],d[1])){y=!0,c.push([a,u]),r=a,n=u;break}y||(a=i,u=o)}return c.push([b,w]),c}function c(t){if(t.length<3)return t;var e,r,n,i,o,s,a=[],u=t[0][0],c=t[0][1],f=t[1][0],l=t[1][1],h=f-u,p=l-c;for(o=Math.sqrt(h*h+p*p),h/=o,p/=o,a.push([u,c]),s=2;s<t.length;s++)e=f,r=l,n=h,i=p,f=t[s][0],l=t[s][1],h=f-e,p=l-r,o=Math.sqrt(h*h+p*p),h/=o,p/=o,(h!==n||p!==i)&&a.push([e,r]);return a.push([f,l]),a}r.backtrace=n,r.biBacktrace=i,r.pathLength=o,r.interpolate=s,r.expandPath=a,r.smoothenPath=u,r.compressPath=c},{}],14:[function(t,e){"use strict";function r(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.heuristic=t.heuristic||o.manhattan,this.weight=t.weight||1}var n=t("heap"),i=t("../core/Util"),o=t("../core/Heuristic");r.prototype.findPath=function(t,e,r,o,s){var a,u,c,f,l,h,p,d,y=new n(function(t,e){return t.f-e.f}),g=s.getNodeAt(t,e),m=s.getNodeAt(r,o),v=this.heuristic,b=this.allowDiagonal,w=this.dontCrossCorners,k=this.weight,A=Math.abs,x=Math.SQRT2;for(g.g=0,g.f=0,y.push(g),g.opened=!0;!y.empty();){if(a=y.pop(),a.closed=!0,a===m)return i.backtrace(m);for(u=s.getNeighbors(a,b,w),f=0,l=u.length;l>f;++f)c=u[f],c.closed||(h=c.x,p=c.y,d=a.g+(h-a.x===0||p-a.y===0?1:x),(!c.opened||d<c.g)&&(c.g=d,c.h=c.h||k*v(A(h-r),A(p-o)),c.f=c.g+c.h,c.parent=a,c.opened?y.updateItem(c):(y.push(c),c.opened=!0)))}return[]},e.exports=r},{"../core/Heuristic":11,"../core/Util":13,heap:7}],15:[function(t,e){"use strict";function r(t){n.call(this,t);var e=this.heuristic;this.heuristic=function(t,r){return 1e6*e(t,r)}}var n=t("./AStarFinder");r.prototype=new n,r.prototype.constructor=r,e.exports=r},{"./AStarFinder":14}],16:[function(t,e){"use strict";function r(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.heuristic=t.heuristic||o.manhattan,this.weight=t.weight||1}var n=t("heap"),i=t("../core/Util"),o=t("../core/Heuristic");r.prototype.findPath=function(t,e,r,o,s){var a,u,c,f,l,h,p,d,y=function(t,e){return t.f-e.f},g=new n(y),m=new n(y),v=s.getNodeAt(t,e),b=s.getNodeAt(r,o),w=this.heuristic,k=this.allowDiagonal,A=this.dontCrossCorners,x=this.weight,S=Math.abs,E=Math.SQRT2,j=1,B=2;for(v.g=0,v.f=0,g.push(v),v.opened=j,b.g=0,b.f=0,m.push(b),b.opened=B;!g.empty()&&!m.empty();){for(a=g.pop(),a.closed=!0,u=s.getNeighbors(a,k,A),f=0,l=u.length;l>f;++f)if(c=u[f],!c.closed){if(c.opened===B)return i.biBacktrace(a,c);h=c.x,p=c.y,d=a.g+(h-a.x===0||p-a.y===0?1:E),(!c.opened||d<c.g)&&(c.g=d,c.h=c.h||x*w(S(h-r),S(p-o)),c.f=c.g+c.h,c.parent=a,c.opened?g.updateItem(c):(g.push(c),c.opened=j))}for(a=m.pop(),a.closed=!0,u=s.getNeighbors(a,k,A),f=0,l=u.length;l>f;++f)if(c=u[f],!c.closed){if(c.opened===j)return i.biBacktrace(c,a);h=c.x,p=c.y,d=a.g+(h-a.x===0||p-a.y===0?1:E),(!c.opened||d<c.g)&&(c.g=d,c.h=c.h||x*w(S(h-t),S(p-e)),c.f=c.g+c.h,c.parent=a,c.opened?m.updateItem(c):(m.push(c),c.opened=B))}}return[]},e.exports=r},{"../core/Heuristic":11,"../core/Util":13,heap:7}],17:[function(t,e){"use strict";function r(t){n.call(this,t);var e=this.heuristic;this.heuristic=function(t,r){return 1e6*e(t,r)}}var n=t("./BiAStarFinder");r.prototype=new n,r.prototype.constructor=r,e.exports=r},{"./BiAStarFinder":16}],18:[function(t,e){"use strict";function r(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners}var n=t("../core/Util");r.prototype.findPath=function(t,e,r,i,o){var s,a,u,c,f,l=o.getNodeAt(t,e),h=o.getNodeAt(r,i),p=[],d=[],y=this.allowDiagonal,g=this.dontCrossCorners,m=0,v=1;for(p.push(l),l.opened=!0,l.by=m,d.push(h),h.opened=!0,h.by=v;p.length&&d.length;){for(u=p.shift(),u.closed=!0,s=o.getNeighbors(u,y,g),c=0,f=s.length;f>c;++c)if(a=s[c],!a.closed)if(a.opened){if(a.by===v)return n.biBacktrace(u,a)}else p.push(a),a.parent=u,a.opened=!0,a.by=m;for(u=d.shift(),u.closed=!0,s=o.getNeighbors(u,y,g),c=0,f=s.length;f>c;++c)if(a=s[c],!a.closed)if(a.opened){if(a.by===m)return n.biBacktrace(a,u)}else d.push(a),a.parent=u,a.opened=!0,a.by=v}return[]},e.exports=r},{"../core/Util":13}],19:[function(t,e){"use strict";function r(t){n.call(this,t),this.heuristic=function(){return 0}}var n=t("./BiAStarFinder");r.prototype=new n,r.prototype.constructor=r,e.exports=r},{"./BiAStarFinder":16}],20:[function(t,e){"use strict";function r(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners}var n=t("../core/Util");r.prototype.findPath=function(t,e,r,i,o){var s,a,u,c,f,l=[],h=this.allowDiagonal,p=this.dontCrossCorners,d=o.getNodeAt(t,e),y=o.getNodeAt(r,i);for(l.push(d),d.opened=!0;l.length;){if(u=l.shift(),u.closed=!0,u===y)return n.backtrace(y);for(s=o.getNeighbors(u,h,p),c=0,f=s.length;f>c;++c)a=s[c],a.closed||a.opened||(l.push(a),a.opened=!0,a.parent=u)}return[]},e.exports=r},{"../core/Util":13}],21:[function(t,e){"use strict";function r(t){n.call(this,t),this.heuristic=function(){return 0}}var n=t("./AStarFinder");r.prototype=new n,r.prototype.constructor=r,e.exports=r},{"./AStarFinder":14}],22:[function(t,e){"use strict";function r(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.heuristic=t.heuristic||n.manhattan,this.weight=t.weight||1,this.trackRecursion=t.trackRecursion||!1,this.timeLimit=t.timeLimit||1/0}var n=(t("../core/Util"),t("../core/Heuristic")),i=t("../core/Node");r.prototype.findPath=function(t,e,r,n,o){var s,a,u,c=0,f=(new Date).getTime(),l=function(t,e){return this.heuristic(Math.abs(e.x-t.x),Math.abs(e.y-t.y))}.bind(this),h=function(t,e){return t.x===e.x||t.y===e.y?1:Math.SQRT2},p=function(t,e,r,n,s){if(c++,this.timeLimit>0&&(new Date).getTime()-f>1e3*this.timeLimit)return 1/0;var a=e+l(t,y)*this.weight;if(a>r)return a;if(t==y)return n[s]=[t.x,t.y],t;var u,d,g,m,v=o.getNeighbors(t,this.allowDiagonal,this.dontCrossCorners);for(g=0,u=1/0;m=v[g];++g){if(this.trackRecursion&&(m.retainCount=m.retainCount+1||1,m.tested!==!0&&(m.tested=!0)),d=p(m,e+h(t,m),r,n,s+1),d instanceof i)return n[s]=[t.x,t.y],d;this.trackRecursion&&0===--m.retainCount&&(m.tested=!1),u>d&&(u=d)}return u}.bind(this),d=o.getNodeAt(t,e),y=o.getNodeAt(r,n),g=l(d,y);for(s=0;!0;++s){if(a=[],u=p(d,0,g,a,0),1/0===u)return[];if(u instanceof i)return a;g=u}return[]},e.exports=r},{"../core/Heuristic":11,"../core/Node":12,"../core/Util":13}],23:[function(t,e){"use strict";function r(t){t=t||{},this.heuristic=t.heuristic||o.manhattan,this.trackJumpRecursion=t.trackJumpRecursion||!1}var n=t("heap"),i=t("../core/Util"),o=t("../core/Heuristic");r.prototype.findPath=function(t,e,r,o,s){var a,u=this.openList=new n(function(t,e){return t.f-e.f}),c=this.startNode=s.getNodeAt(t,e),f=this.endNode=s.getNodeAt(r,o);for(this.grid=s,c.g=0,c.f=0,u.push(c),c.opened=!0;!u.empty();){if(a=u.pop(),a.closed=!0,a===f)return i.expandPath(i.backtrace(f));this._identifySuccessors(a)}return[]},r.prototype._identifySuccessors=function(t){{var e,r,n,i,s,a,u,c,f,l,h=this.grid,p=this.heuristic,d=this.openList,y=this.endNode.x,g=this.endNode.y,m=t.x,v=t.y,b=Math.abs;Math.max}for(e=this._findNeighbors(t),i=0,s=e.length;s>i;++i)if(r=e[i],n=this._jump(r[0],r[1],m,v)){if(a=n[0],u=n[1],l=h.getNodeAt(a,u),l.closed)continue;c=o.euclidean(b(a-m),b(u-v)),f=t.g+c,(!l.opened||f<l.g)&&(l.g=f,l.h=l.h||p(b(a-y),b(u-g)),l.f=l.g+l.h,l.parent=t,l.opened?d.updateItem(l):(d.push(l),l.opened=!0))}},r.prototype._jump=function(t,e,r,n){var i=this.grid,o=t-r,s=e-n;if(!i.isWalkableAt(t,e))return null;if(this.trackJumpRecursion===!0&&(i.getNodeAt(t,e).tested=!0),i.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==o&&0!==s){if(i.isWalkableAt(t-o,e+s)&&!i.isWalkableAt(t-o,e)||i.isWalkableAt(t+o,e-s)&&!i.isWalkableAt(t,e-s))return[t,e]}else if(0!==o){if(i.isWalkableAt(t+o,e+1)&&!i.isWalkableAt(t,e+1)||i.isWalkableAt(t+o,e-1)&&!i.isWalkableAt(t,e-1))return[t,e]}else if(i.isWalkableAt(t+1,e+s)&&!i.isWalkableAt(t+1,e)||i.isWalkableAt(t-1,e+s)&&!i.isWalkableAt(t-1,e))return[t,e];return 0!==o&&0!==s&&(this._jump(t+o,e,t,e)||this._jump(t,e+s,t,e))?[t,e]:i.isWalkableAt(t+o,e)||i.isWalkableAt(t,e+s)?this._jump(t+o,e+s,t,e):null},r.prototype._findNeighbors=function(t){var e,r,n,i,o,s,a,u,c=t.parent,f=t.x,l=t.y,h=this.grid,p=[];if(c)e=c.x,r=c.y,n=(f-e)/Math.max(Math.abs(f-e),1),i=(l-r)/Math.max(Math.abs(l-r),1),0!==n&&0!==i?(h.isWalkableAt(f,l+i)&&p.push([f,l+i]),h.isWalkableAt(f+n,l)&&p.push([f+n,l]),(h.isWalkableAt(f,l+i)||h.isWalkableAt(f+n,l))&&p.push([f+n,l+i]),!h.isWalkableAt(f-n,l)&&h.isWalkableAt(f,l+i)&&p.push([f-n,l+i]),!h.isWalkableAt(f,l-i)&&h.isWalkableAt(f+n,l)&&p.push([f+n,l-i])):0===n?h.isWalkableAt(f,l+i)&&(p.push([f,l+i]),h.isWalkableAt(f+1,l)||p.push([f+1,l+i]),h.isWalkableAt(f-1,l)||p.push([f-1,l+i])):h.isWalkableAt(f+n,l)&&(p.push([f+n,l]),h.isWalkableAt(f,l+1)||p.push([f+n,l+1]),h.isWalkableAt(f,l-1)||p.push([f+n,l-1]));else for(o=h.getNeighbors(t,!0),a=0,u=o.length;u>a;++a)s=o[a],p.push([s.x,s.y]);return p},e.exports=r},{"../core/Heuristic":11,"../core/Util":13,heap:7}],24:[function(t,e){"use strict";function r(t){i.call(this,t),t=t||{},this.heuristic=t.heuristic||n.manhattan}var n=t("../core/Heuristic"),i=t("./JumpPointFinder");r.prototype=new i,r.prototype.constructor=r,r.prototype._jump=function(t,e,r,n){var i=this.grid,o=t-r,s=e-n;if(!i.isWalkableAt(t,e))return null;if(this.trackJumpRecursion===!0&&(i.getNodeAt(t,e).tested=!0),i.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==o){if(i.isWalkableAt(t,e-1)&&!i.isWalkableAt(t-o,e-1)||i.isWalkableAt(t,e+1)&&!i.isWalkableAt(t-o,e+1))return[t,e]}else{if(0===s)throw new Error("Only horizontal and vertical movements are allowed");if(i.isWalkableAt(t-1,e)&&!i.isWalkableAt(t-1,e-s)||i.isWalkableAt(t+1,e)&&!i.isWalkableAt(t+1,e-s))return[t,e];if(this._jump(t+1,e,t,e)||this._jump(t-1,e,t,e))return[t,e]}return this._jump(t+o,e+s,t,e)},r.prototype._findNeighbors=function(t){var e,r,n,i,o,s,a,u,c=t.parent,f=t.x,l=t.y,h=this.grid,p=[];if(c)e=c.x,r=c.y,n=(f-e)/Math.max(Math.abs(f-e),1),i=(l-r)/Math.max(Math.abs(l-r),1),0!==n?(h.isWalkableAt(f,l-1)&&p.push([f,l-1]),h.isWalkableAt(f,l+1)&&p.push([f,l+1]),h.isWalkableAt(f+n,l)&&p.push([f+n,l])):0!==i&&(h.isWalkableAt(f-1,l)&&p.push([f-1,l]),h.isWalkableAt(f+1,l)&&p.push([f+1,l]),h.isWalkableAt(f,l+i)&&p.push([f,l+i]));else for(o=h.getNeighbors(t,!1),a=0,u=o.length;u>a;++a)s=o[a],p.push([s.x,s.y]);return p},e.exports=r},{"../core/Heuristic":11,"./JumpPointFinder":23}],25:[function(t,e){"use strict";function r(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.heuristic=t.heuristic||o.manhattan}var n=t("heap"),i=t("../core/Util"),o=t("../core/Heuristic");r.prototype.findPath=function(t,e,r,o,s){var a,u,c,f,l,h,p,d,y=new n(function(t,e){return t.f-e.f}),g=s.getNodeAt(t,e),m=s.getNodeAt(r,o),v=this.heuristic,b=this.allowDiagonal,w=this.dontCrossCorners,k=Math.abs,A=Math.SQRT2;for(g.g=0,g.f=0,y.push(g),g.opened=!0;!y.empty();){if(a=y.pop(),a.closed=!0,a===m)return i.backtrace(m);u=s.getNeighbors(a,b,w);var x=u.length;for(f=0,l=u.length;l>f;++f)c=u[f],c.closed||(h=c.x,p=c.y,d=a.g+(h-a.x===0||p-a.y===0?1:A),(!c.opened||d<c.g)&&(c.g=d*x/9,c.h=c.h||v(k(h-r),k(p-o)),c.f=c.g+c.h,c.parent=a,c.opened?y.updateItem(c):(y.push(c),c.opened=!0)))}return[]},e.exports=r},{"../core/Heuristic":11,"../core/Util":13,heap:7}],26:[function(t,e){"use strict";e.exports=t("./lib/")},{"./lib/":27}],27:[function(t,e,r){"use strict";function n(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,n=i(t),o=n.source,c=n.id;return e.forceNew||e["force new connection"]||!1===e.multiplex?(a("ignoring socket cache for %s",o),r=s(o,e)):(u[c]||(a("new io instance for %s",o),u[c]=s(o,e)),r=u[c]),r.socket(n.path)}var i=t("./url"),o=t("socket.io-parser"),s=t("./manager"),a=t("debug")("socket.io-client");e.exports=r=n;var u=r.managers={};r.protocol=o.protocol,r.connect=n,r.Manager=t("./manager"),r.Socket=t("./socket")},{"./manager":28,"./socket":30,"./url":31,debug:34,"socket.io-parser":65}],28:[function(t,e){"use strict";function r(t,e){return this instanceof r?(t&&"object"==typeof t&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connected=0,this.attempts=0,this.encoding=!1,this.packetBuffer=[],this.encoder=new s.Encoder,this.decoder=new s.Decoder,void this.open()):new r(t,e)}var n=(t("./url"),t("engine.io-client")),i=t("./socket"),o=t("component-emitter"),s=t("socket.io-parser"),a=t("./on"),u=t("component-bind"),c=(t("object-component"),t("debug")("socket.io-client:manager"));e.exports=r,r.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var t in this.nsps)this.nsps[t].emit.apply(this.nsps[t],arguments)},o(r.prototype),r.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},r.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this):this._reconnectionDelay
},r.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this):this._reconnectionDelayMax},r.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},r.prototype.maybeReconnectOnOpen=function(){this.openReconnect||this.reconnecting||!this._reconnection||(this.openReconnect=!0,this.reconnect())},r.prototype.open=r.prototype.connect=function(t){if(c("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;c("opening %s",this.uri),this.engine=n(this.uri,this.opts);var e=this.engine,r=this;this.readyState="opening";var i=a(e,"open",function(){r.onopen(),t&&t()}),o=a(e,"error",function(e){if(c("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",e),t){var n=new Error("Connection error");n.data=e,t(n)}r.maybeReconnectOnOpen()});if(!1!==this._timeout){var s=this._timeout;c("connect attempt will timeout after %d",s);var u=setTimeout(function(){c("connect attempt timed out after %d",s),i.destroy(),e.close(),e.emit("error","timeout"),r.emitAll("connect_timeout",s)},s);this.subs.push({destroy:function(){clearTimeout(u)}})}return this.subs.push(i),this.subs.push(o),this},r.prototype.onopen=function(){c("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(a(t,"data",u(this,"ondata"))),this.subs.push(a(this.decoder,"decoded",u(this,"ondecoded"))),this.subs.push(a(t,"error",u(this,"onerror"))),this.subs.push(a(t,"close",u(this,"onclose")))},r.prototype.ondata=function(t){this.decoder.add(t)},r.prototype.ondecoded=function(t){this.emit("packet",t)},r.prototype.onerror=function(t){c("error",t),this.emitAll("error",t)},r.prototype.socket=function(t){var e=this.nsps[t];if(!e){e=new i(this,t),this.nsps[t]=e;var r=this;e.on("connect",function(){r.connected++})}return e},r.prototype.destroy=function(){--this.connected||this.close()},r.prototype.packet=function(t){c("writing packet %j",t);var e=this;e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(t){for(var r=0;r<t.length;r++)e.engine.write(t[r]);e.encoding=!1,e.processPacketQueue()}))},r.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},r.prototype.cleanup=function(){for(var t;t=this.subs.shift();)t.destroy();this.packetBuffer=[],this.encoding=!1,this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){this.skipReconnect=!0,this.engine.close()},r.prototype.onclose=function(t){c("close"),this.cleanup(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting)return this;var t=this;if(this.attempts++,this.attempts>this._reconnectionAttempts)c("reconnect failed"),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.attempts*this.reconnectionDelay();e=Math.min(e,this.reconnectionDelayMax()),c("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var r=setTimeout(function(){c("attempting reconnect"),t.emitAll("reconnect_attempt"),t.emitAll("reconnecting",t.attempts),t.open(function(e){e?(c("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(c("reconnect success"),t.onreconnect())})},e);this.subs.push({destroy:function(){clearTimeout(r)}})}},r.prototype.onreconnect=function(){var t=this.attempts;this.attempts=0,this.reconnecting=!1,this.emitAll("reconnect",t)}},{"./on":29,"./socket":30,"./url":31,"component-bind":32,"component-emitter":33,debug:34,"engine.io-client":35,"object-component":62,"socket.io-parser":65}],29:[function(t,e){"use strict";function r(t,e,r){return t.on(e,r),{destroy:function(){t.removeListener(e,r)}}}e.exports=r},{}],30:[function(t,e,r){"use strict";function n(t,e){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.open(),this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0}{var i=t("socket.io-parser"),o=t("component-emitter"),s=t("to-array"),a=t("./on"),u=t("component-bind"),c=t("debug")("socket.io-client:socket"),f=t("has-binary-data");t("indexof")}e.exports=r=n;var l={connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},h=o.prototype.emit;o(n.prototype),n.prototype.open=n.prototype.connect=function(){if(this.connected)return this;var t=this.io;return t.open(),this.subs=[a(t,"open",u(this,"onopen")),a(t,"packet",u(this,"onpacket")),a(t,"close",u(this,"onclose"))],"open"==this.io.readyState&&this.onopen(),this},n.prototype.send=function(){var t=s(arguments);return t.unshift("message"),this.emit.apply(this,t),this},n.prototype.emit=function(t){if(l.hasOwnProperty(t))return h.apply(this,arguments),this;var e=s(arguments),r=i.EVENT;f(e)&&(r=i.BINARY_EVENT);var n={type:r,data:e};return"function"==typeof e[e.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this},n.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},n.prototype.onopen=function(){c("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:i.CONNECT})},n.prototype.onclose=function(t){c("close (%s)",t),this.connected=!1,this.disconnected=!0,this.emit("disconnect",t)},n.prototype.onpacket=function(t){if(t.nsp==this.nsp)switch(t.type){case i.CONNECT:this.onconnect();break;case i.EVENT:this.onevent(t);break;case i.BINARY_EVENT:this.onevent(t);break;case i.ACK:this.onack(t);break;case i.BINARY_ACK:this.onack(t);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",t.data)}},n.prototype.onevent=function(t){var e=t.data||[];c("emitting event %j",e),null!=t.id&&(c("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?h.apply(this,e):this.receiveBuffer.push(e)},n.prototype.ack=function(t){var e=this,r=!1;return function(){if(!r){r=!0;var n=s(arguments);c("sending ack %j",n);var o=f(n)?i.BINARY_ACK:i.ACK;e.packet({type:o,id:t,data:n})}}},n.prototype.onack=function(t){c("calling ack %s with %j",t.id,t.data);var e=this.acks[t.id];e.apply(this,t.data),delete this.acks[t.id]},n.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},n.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)h.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},n.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},n.prototype.destroy=function(){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.io.destroy(this)},n.prototype.close=n.prototype.disconnect=function(){return this.connected?(c("performing disconnect (%s)",this.nsp),this.packet({type:i.DISCONNECT}),this.destroy(),this.onclose("io client disconnect"),this):this}},{"./on":29,"component-bind":32,"component-emitter":33,debug:34,"has-binary-data":59,indexof:61,"socket.io-parser":65,"to-array":71}],31:[function(t,e){(function(r){"use strict";function n(t,e){var n=t,e=e||r.location;return null==t&&(t=e.protocol+"//"+e.hostname),"string"==typeof t&&("/"==t.charAt(0)&&"undefined"!=typeof e&&(t=e.hostname+t),/^(https?|wss?):\/\//.test(t)||(o("protocol-less url %s",t),t="undefined"!=typeof e?e.protocol+"//"+t:"https://"+t),o("parse %s",t),n=i(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/",n.id=n.protocol+"://"+n.host+":"+n.port,n.href=n.protocol+"://"+n.host+(e&&e.port==n.port?"":":"+n.port),n}var i=t("parseuri"),o=t("debug")("socket.io-client:url");e.exports=n}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{debug:34,parseuri:63}],32:[function(t,e){var r=[].slice;e.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var n=r.call(arguments,2);return function(){return e.apply(t,n.concat(r.call(arguments)))}}},{}],33:[function(t,e){function r(t){return t?n(t):void 0}function n(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},r.prototype.once=function(t,e){function r(){n.off(t,r),e.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},r.fn=e,this.on(t,r),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r=this._callbacks[t];if(!r)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),r=this._callbacks[t];if(r){r=r.slice(0);for(var n=0,i=r.length;i>n;++n)r[n].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],34:[function(t,e){function r(t){return r.enabled(t)?function(e){e=n(e);var i=new Date,o=i-(r[t]||i);r[t]=i,e=t+" "+e+" +"+r.humanize(o),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function n(t){return t instanceof Error?t.stack||t.message:t}e.exports=r,r.names=[],r.skips=[],r.enable=function(t){try{localStorage.debug=t}catch(e){}for(var n=(t||"").split(/[\s,]+/),i=n.length,o=0;i>o;o++)t=n[o].replace("*",".*?"),"-"===t[0]?r.skips.push(new RegExp("^"+t.substr(1)+"$")):r.names.push(new RegExp("^"+t+"$"))},r.disable=function(){r.enable("")},r.humanize=function(t){var e=1e3,r=6e4,n=60*r;return t>=n?(t/n).toFixed(1)+"h":t>=r?(t/r).toFixed(1)+"m":t>=e?(t/e|0)+"s":t+"ms"},r.enabled=function(t){for(var e=0,n=r.skips.length;n>e;e++)if(r.skips[e].test(t))return!1;for(var e=0,n=r.names.length;n>e;e++)if(r.names[e].test(t))return!0;return!1};try{window.localStorage&&r.enable(localStorage.debug)}catch(i){}},{}],35:[function(t,e){e.exports=t("./lib/")},{"./lib/":36}],36:[function(t,e){e.exports=t("./socket"),e.exports.parser=t("engine.io-parser")},{"./socket":37,"engine.io-parser":47}],37:[function(t,e){(function(r){function n(t,e){if(!(this instanceof n))return new n(t,e);if(e=e||{},t&&"object"==typeof t&&(e=t,t=null),t&&(t=f(t),e.host=t.host,e.secure="https"==t.protocol||"wss"==t.protocol,e.port=t.port,t.query&&(e.query=t.query)),this.secure=null!=e.secure?e.secure:r.location&&"https:"==location.protocol,e.host){var i=e.host.split(":");e.hostname=i.shift(),i.length&&(e.port=i.pop())}this.agent=e.agent||!1,this.hostname=e.hostname||(r.location?location.hostname:"localhost"),this.port=e.port||(r.location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=h.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.forceBase64=!!e.forceBase64,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.callbackBuffer=[],this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.open(),this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades}function i(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}var o=t("./transports"),s=t("component-emitter"),a=t("debug")("engine.io-client:socket"),u=t("indexof"),c=t("engine.io-parser"),f=t("parseuri"),l=t("parsejson"),h=t("parseqs");e.exports=n,n.priorWebsocketSuccess=!1,s(n.prototype),n.protocol=c.protocol,n.Socket=n,n.Transport=t("./transport"),n.transports=t("./transports"),n.parser=t("engine.io-parser"),n.prototype.createTransport=function(t){a('creating transport "%s"',t);var e=i(this.query);e.EIO=c.protocol,e.transport=t,this.id&&(e.sid=this.id);var r=new o[t]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:e,forceJSONP:this.forceJSONP,forceBase64:this.forceBase64,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this});return r},n.prototype.open=function(){var t;t=this.rememberUpgrade&&n.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket")?"websocket":this.transports[0],this.readyState="opening";var t=this.createTransport(t);t.open(),this.setTransport(t)},n.prototype.setTransport=function(t){a("setting transport %s",t.name);var e=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},n.prototype.probe=function(t){function e(){if(h.onlyBinaryUpgrades){var e=!this.supportsBinary&&h.transport.supportsBinary;l=l||e}l||(a('probe transport "%s" opened',t),f.send([{type:"ping",data:"probe"}]),f.once("packet",function(e){if(!l)if("pong"==e.type&&"probe"==e.data)a('probe transport "%s" pong',t),h.upgrading=!0,h.emit("upgrading",f),n.priorWebsocketSuccess="websocket"==f.name,a('pausing current transport "%s"',h.transport.name),h.transport.pause(function(){l||"closed"!=h.readyState&&"closing"!=h.readyState&&(a("changing transport and sending upgrade packet"),c(),h.setTransport(f),f.send([{type:"upgrade"}]),h.emit("upgrade",f),f=null,h.upgrading=!1,h.flush())});else{a('probe transport "%s" failed',t);var r=new Error("probe error");r.transport=f.name,h.emit("upgradeError",r)}}))}function r(){l||(l=!0,c(),f.close(),f=null)}function i(e){var n=new Error("probe error: "+e);n.transport=f.name,r(),a('probe transport "%s" failed because of error: %s',t,e),h.emit("upgradeError",n)}function o(){i("transport closed")}function s(){i("socket closed")}function u(t){f&&t.name!=f.name&&(a('"%s" works - aborting "%s"',t.name,f.name),r())}function c(){f.removeListener("open",e),f.removeListener("error",i),f.removeListener("close",o),h.removeListener("close",s),h.removeListener("upgrading",u)}a('probing transport "%s"',t);var f=this.createTransport(t,{probe:1}),l=!1,h=this;n.priorWebsocketSuccess=!1,f.once("open",e),f.once("error",i),f.once("close",o),this.once("close",s),this.once("upgrading",u),f.open()},n.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",n.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var t=0,e=this.upgrades.length;e>t;t++)this.probe(this.upgrades[t])}},n.prototype.onPacket=function(t){if("opening"==this.readyState||"open"==this.readyState)switch(a('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(l(t.data));break;case"pong":this.setPing();break;case"error":var e=new Error("server error");e.code=t.data,this.emit("error",e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else a('packet received with socket readyState "%s"',this.readyState)},n.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},n.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!=e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},n.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){a("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},n.prototype.ping=function(){this.sendPacket("ping")},n.prototype.onDrain=function(){for(var t=0;t<this.prevBufferLen;t++)this.callbackBuffer[t]&&this.callbackBuffer[t]();this.writeBuffer.splice(0,this.prevBufferLen),this.callbackBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0==this.writeBuffer.length?this.emit("drain"):this.flush()},n.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},n.prototype.write=n.prototype.send=function(t,e){return this.sendPacket("message",t,e),this},n.prototype.sendPacket=function(t,e,r){var n={type:t,data:e};this.emit("packetCreate",n),this.writeBuffer.push(n),this.callbackBuffer.push(r),this.flush()},n.prototype.close=function(){return("opening"==this.readyState||"open"==this.readyState)&&(this.onClose("forced close"),a("socket closing - telling transport to close"),this.transport.close()),this},n.prototype.onError=function(t){a("socket error %j",t),n.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},n.prototype.onClose=function(t,e){if("opening"==this.readyState||"open"==this.readyState){a('socket close with reason: "%s"',t);var r=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),setTimeout(function(){r.writeBuffer=[],r.callbackBuffer=[],r.prevBufferLen=0},0),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e)}},n.prototype.filterUpgrades=function(t){for(var e=[],r=0,n=t.length;n>r;r++)~u(this.transports,t[r])&&e.push(t[r]);return e}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":38,"./transports":39,"component-emitter":33,debug:46,"engine.io-parser":47,indexof:61,parsejson:56,parseqs:57,parseuri:63}],38:[function(t,e){function r(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket}var n=t("engine.io-parser"),i=t("component-emitter");e.exports=r,i(r.prototype),r.timestamps=0,r.prototype.onError=function(t,e){var r=new Error(t);return r.type="TransportError",r.description=e,this.emit("error",r),this},r.prototype.open=function(){return("closed"==this.readyState||""==this.readyState)&&(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return("opening"==this.readyState||"open"==this.readyState)&&(this.doClose(),this.onClose()),this},r.prototype.send=function(t){if("open"!=this.readyState)throw new Error("Transport not open");this.write(t)},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(t){this.onPacket(n.decodePacket(t,this.socket.binaryType))},r.prototype.onPacket=function(t){this.emit("packet",t)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":33,"engine.io-parser":47}],39:[function(t,e,r){(function(e){function n(t){var r,n=!1;if(e.location){var a="https:"==location.protocol,u=location.port;u||(u=a?443:80),n=t.hostname!=location.hostname||u!=t.port}return t.xdomain=n,r=new i(t),"open"in r&&!t.forceJSONP?new o(t):new s(t)}var i=t("xmlhttprequest"),o=t("./polling-xhr"),s=t("./polling-jsonp"),a=t("./websocket");r.polling=n,r.websocket=a}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":40,"./polling-xhr":41,"./websocket":43,xmlhttprequest:44}],40:[function(t,e){(function(r){function n(){}function i(t){o.call(this,t),this.query=this.query||{},a||(r.___eio||(r.___eio=[]),a=r.___eio),this.index=a.length;var e=this;a.push(function(t){e.onData(t)}),this.query.j=this.index,r.document&&r.addEventListener&&r.addEventListener("beforeunload",function(){e.script&&(e.script.onerror=n)})}var o=t("./polling"),s=t("component-inherit");e.exports=i;var a,u=/\n/g,c=/\\n/g;s(i,o),i.prototype.supportsBinary=!1,i.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null),o.prototype.doClose.call(this)},i.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(e,r),this.script=e;var n="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);n&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},i.prototype.doWrite=function(t,e){function r(){n(),e()}function n(){if(i.iframe)try{i.form.removeChild(i.iframe)}catch(t){i.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+i.iframeId+'">';o=document.createElement(e)}catch(t){o=document.createElement("iframe"),o.name=i.iframeId,o.src="javascript:0"}o.id=i.iframeId,i.form.appendChild(o),i.iframe=o}var i=this;if(!this.form){var o,s=document.createElement("form"),a=document.createElement("textarea"),f=this.iframeId="eio_iframe_"+this.index;s.className="socketio",s.style.position="absolute",s.style.top="-1000px",s.style.left="-1000px",s.target=f,s.method="POST",s.setAttribute("accept-charset","utf-8"),a.name="d",s.appendChild(a),document.body.appendChild(s),this.form=s,this.area=a}this.form.action=this.uri(),n(),t=t.replace(c,"\\\n"),this.area.value=t.replace(u,"\\n");try{this.form.submit()}catch(l){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==i.iframe.readyState&&r()}:this.iframe.onload=r}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":42,"component-inherit":45}],41:[function(t,e){(function(r){function n(){}function i(t){if(u.call(this,t),r.location){var e="https:"==location.protocol,n=location.port;n||(n=e?443:80),this.xd=t.hostname!=r.location.hostname||n!=t.port}}function o(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.async=!1!==t.async,this.data=void 0!=t.data?t.data:null,this.agent=t.agent,this.create(t.isBinary,t.supportsBinary)}function s(){for(var t in o.requests)o.requests.hasOwnProperty(t)&&o.requests[t].abort()}var a=t("xmlhttprequest"),u=t("./polling"),c=t("component-emitter"),f=t("component-inherit"),l=t("debug")("engine.io-client:polling-xhr");e.exports=i,e.exports.Request=o,f(i,u),i.prototype.supportsBinary=!0,i.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,new o(t)},i.prototype.doWrite=function(t,e){var r="string"!=typeof t&&void 0!==t,n=this.request({method:"POST",data:t,isBinary:r}),i=this;n.on("success",e),n.on("error",function(t){i.onError("xhr post error",t)}),this.sendXhr=n},i.prototype.doPoll=function(){l("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},c(o.prototype),o.prototype.create=function(t,e){var n=this.xhr=new a({agent:this.agent,xdomain:this.xd}),i=this;try{if(l("xhr open %s: %s",this.method,this.uri),n.open(this.method,this.uri,this.async),e&&(n.responseType="arraybuffer"),"POST"==this.method)try{t?n.setRequestHeader("Content-type","application/octet-stream"):n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(s){}"withCredentials"in n&&(n.withCredentials=!0),n.onreadystatechange=function(){var t;try{if(4!=n.readyState)return;if(200==n.status||1223==n.status){var r=n.getResponseHeader("Content-Type");t="application/octet-stream"===r?n.response:e?"ok":n.responseText}else setTimeout(function(){i.onError(n.status)},0)}catch(o){i.onError(o)}null!=t&&i.onData(t)},l("xhr data %s",this.data),n.send(this.data)}catch(s){return void setTimeout(function(){i.onError(s)},0)}r.document&&(this.index=o.requestsCount++,o.requests[this.index]=this)},o.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},o.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},o.prototype.onError=function(t){this.emit("error",t),this.cleanup()},o.prototype.cleanup=function(){if("undefined"!=typeof this.xhr&&null!==this.xhr){this.xhr.onreadystatechange=n;try{this.xhr.abort()}catch(t){}r.document&&delete o.requests[this.index],this.xhr=null}},o.prototype.abort=function(){this.cleanup()},r.document&&(o.requestsCount=0,o.requests={},r.attachEvent?r.attachEvent("onunload",s):r.addEventListener&&r.addEventListener("beforeunload",s))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":42,"component-emitter":33,"component-inherit":45,debug:46,xmlhttprequest:44}],42:[function(t,e){function r(t){var e=t&&t.forceBase64;(!u||e)&&(this.supportsBinary=!1),n.call(this,t)}var n=t("../transport"),i=t("parseqs"),o=t("engine.io-parser"),s=t("component-inherit"),a=t("debug")("engine.io-client:polling");e.exports=r;var u=function(){var e=t("xmlhttprequest"),r=new e({agent:this.agent,xdomain:!1});return null!=r.responseType}();s(r,n),r.prototype.name="polling",r.prototype.doOpen=function(){this.poll()},r.prototype.pause=function(t){function e(){a("paused"),r.readyState="paused",t()}var r=this;if(this.readyState="pausing",this.polling||!this.writable){var n=0;this.polling&&(a("we are currently polling - waiting to pause"),n++,this.once("pollComplete",function(){a("pre-pause polling complete"),--n||e()})),this.writable||(a("we are currently writing - waiting to pause"),n++,this.once("drain",function(){a("pre-pause writing complete"),--n||e()}))}else e()},r.prototype.poll=function(){a("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},r.prototype.onData=function(t){var e=this;a("polling got data %s",t);var r=function(t){return"opening"==e.readyState&&e.onOpen(),"close"==t.type?(e.onClose(),!1):void e.onPacket(t)};o.decodePayload(t,this.socket.binaryType,r),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():a('ignoring poll - transport state "%s"',this.readyState))},r.prototype.doClose=function(){function t(){a("writing close packet"),e.write([{type:"close"}])}var e=this;"open"==this.readyState?(a("transport open - closing"),t()):(a("transport not open - deferring close"),this.once("open",t))},r.prototype.write=function(t){var e=this;this.writable=!1;var r=function(){e.writable=!0,e.emit("drain")},e=this;o.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,r)})},r.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",r="";return!1!==this.timestampRequests&&(t[this.timestampParam]=+new Date+"-"+n.timestamps++),this.supportsBinary||t.sid||(t.b64=1),t=i.encode(t),this.port&&("https"==e&&443!=this.port||"http"==e&&80!=this.port)&&(r=":"+this.port),t.length&&(t="?"+t),e+"://"+this.hostname+r+this.path+t}},{"../transport":38,"component-inherit":45,debug:46,"engine.io-parser":47,parseqs:57,xmlhttprequest:44}],43:[function(t,e){function r(t){var e=t&&t.forceBase64;e&&(this.supportsBinary=!1),n.call(this,t)}var n=t("../transport"),i=t("engine.io-parser"),o=t("parseqs"),s=t("component-inherit"),a=t("debug")("engine.io-client:websocket"),u=t("ws");e.exports=r,s(r,n),r.prototype.name="websocket",r.prototype.supportsBinary=!0,r.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=void 0,r={agent:this.agent};this.ws=new u(t,e,r),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.binaryType="arraybuffer",this.addEventListeners()}},r.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(r.prototype.onData=function(t){var e=this;setTimeout(function(){n.prototype.onData.call(e,t)},0)}),r.prototype.write=function(t){function e(){r.writable=!0,r.emit("drain")}var r=this;this.writable=!1;for(var n=0,o=t.length;o>n;n++)i.encodePacket(t[n],this.supportsBinary,function(t){try{r.ws.send(t)}catch(e){a("websocket closed before onclose event")}});setTimeout(e,0)},r.prototype.onClose=function(){n.prototype.onClose.call(this)},r.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},r.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",r="";return this.port&&("wss"==e&&443!=this.port||"ws"==e&&80!=this.port)&&(r=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=+new Date),this.supportsBinary||(t.b64=1),t=o.encode(t),t.length&&(t="?"+t),e+"://"+this.hostname+r+this.path+t},r.prototype.check=function(){return!(!u||"__initialize"in u&&this.name===r.prototype.name)}},{"../transport":38,"component-inherit":45,debug:46,"engine.io-parser":47,parseqs:57,ws:58}],44:[function(t,e){var r=t("has-cors");e.exports=function(t){var e=t.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!e||r))return new XMLHttpRequest}catch(n){}if(!e)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(n){}}},{"has-cors":54}],45:[function(t,e){e.exports=function(t,e){var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},{}],46:[function(t,e){e.exports=t(34)},{}],47:[function(t,e,r){(function(e){function n(t,e,n){if(!e)return r.encodeBase64Packet(t,n);var i=t.data,o=new Uint8Array(i),s=new Uint8Array(1+i.byteLength);s[0]=p[t.type];for(var a=0;a<o.length;a++)s[a+1]=o[a];return n(s.buffer)}function i(t,e,n){if(!e)return r.encodeBase64Packet(t,n);var i=new FileReader;return i.onload=function(){t.data=i.result,r.encodePacket(t,e,n)},i.readAsArrayBuffer(t.data)}function o(t,e,n){if(!e)return r.encodeBase64Packet(t,n);if(h)return i(t,e,n);var o=new Uint8Array(1);o[0]=p[t.type];var s=new g([o.buffer,t.data]);return n(s)}function s(t,e,r){for(var n=new Array(t.length),i=f(t.length,r),o=function(t,r,i){e(r,function(e,r){n[t]=r,i(e,n)})},s=0;s<t.length;s++)o(s,t[s],i)}var a=t("./keys"),u=t("arraybuffer.slice"),c=t("base64-arraybuffer"),f=t("after"),l=t("utf8"),h=navigator.userAgent.match(/Android/i);r.protocol=2;var p=r.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},d=a(p),y={type:"error",data:"parser error"},g=t("blob");r.encodePacket=function(t,r,i){"function"==typeof r&&(i=r,r=!1);var s=void 0===t.data?void 0:t.data.buffer||t.data;if(e.ArrayBuffer&&s instanceof ArrayBuffer)return n(t,r,i);if(g&&s instanceof e.Blob)return o(t,r,i);var a=p[t.type];return void 0!==t.data&&(a+=l.encode(String(t.data))),i(""+a)},r.encodeBase64Packet=function(t,n){var i="b"+r.packets[t.type];if(g&&t.data instanceof g){var o=new FileReader;return o.onload=function(){var t=o.result.split(",")[1];n(i+t)},o.readAsDataURL(t.data)}var s;try{s=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(a){for(var u=new Uint8Array(t.data),c=new Array(u.length),f=0;f<u.length;f++)c[f]=u[f];s=String.fromCharCode.apply(null,c)}return i+=e.btoa(s),n(i)},r.decodePacket=function(t,e){if("string"==typeof t||void 0===t){if("b"==t.charAt(0))return r.decodeBase64Packet(t.substr(1),e);t=l.decode(t);var n=t.charAt(0);return Number(n)==n&&d[n]?t.length>1?{type:d[n],data:t.substring(1)}:{type:d[n]}:y}var i=new Uint8Array(t),n=i[0],o=u(t,1);
return g&&"blob"===e&&(o=new g([o])),{type:d[n],data:o}},r.decodeBase64Packet=function(t,r){var n=d[t.charAt(0)];if(!e.ArrayBuffer)return{type:n,data:{base64:!0,data:t.substr(1)}};var i=c.decode(t.substr(1));return"blob"===r&&g&&(i=new g([i])),{type:n,data:i}},r.encodePayload=function(t,e,n){function i(t){return t.length+":"+t}function o(t,n){r.encodePacket(t,e,function(t){n(null,i(t))})}return"function"==typeof e&&(n=e,e=null),e?g&&!h?r.encodePayloadAsBlob(t,n):r.encodePayloadAsArrayBuffer(t,n):t.length?void s(t,o,function(t,e){return n(e.join(""))}):n("0:")},r.decodePayload=function(t,e,n){if("string"!=typeof t)return r.decodePayloadAsBinary(t,e,n);"function"==typeof e&&(n=e,e=null);var i;if(""==t)return n(y,0,1);for(var o,s,a="",u=0,c=t.length;c>u;u++){var f=t.charAt(u);if(":"!=f)a+=f;else{if(""==a||a!=(o=Number(a)))return n(y,0,1);if(s=t.substr(u+1,o),a!=s.length)return n(y,0,1);if(s.length){if(i=r.decodePacket(s,e),y.type==i.type&&y.data==i.data)return n(y,0,1);var l=n(i,u+o,c);if(!1===l)return}u+=o,a=""}}return""!=a?n(y,0,1):void 0},r.encodePayloadAsArrayBuffer=function(t,e){function n(t,e){r.encodePacket(t,!0,function(t){return e(null,t)})}return t.length?void s(t,n,function(t,r){var n=r.reduce(function(t,e){var r;return r="string"==typeof e?e.length:e.byteLength,t+r.toString().length+r+2},0),i=new Uint8Array(n),o=0;return r.forEach(function(t){var e="string"==typeof t,r=t;if(e){for(var n=new Uint8Array(t.length),s=0;s<t.length;s++)n[s]=t.charCodeAt(s);r=n.buffer}i[o++]=e?0:1;for(var a=r.byteLength.toString(),s=0;s<a.length;s++)i[o++]=parseInt(a[s]);i[o++]=255;for(var n=new Uint8Array(r),s=0;s<n.length;s++)i[o++]=n[s]}),e(i.buffer)}):e(new ArrayBuffer(0))},r.encodePayloadAsBlob=function(t,e){function n(t,e){r.encodePacket(t,!0,function(t){var r=new Uint8Array(1);if(r[0]=1,"string"==typeof t){for(var n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);t=n.buffer,r[0]=0}for(var o=t instanceof ArrayBuffer?t.byteLength:t.size,s=o.toString(),a=new Uint8Array(s.length+1),i=0;i<s.length;i++)a[i]=parseInt(s[i]);if(a[s.length]=255,g){var u=new g([r.buffer,a.buffer,t]);e(null,u)}})}s(t,n,function(t,r){return e(new g(r))})},r.decodePayloadAsBinary=function(t,e,n){"function"==typeof e&&(n=e,e=null);for(var i=t,o=[];i.byteLength>0;){for(var s=new Uint8Array(i),a=0===s[0],c="",f=1;255!=s[f];f++)c+=s[f];i=u(i,2+c.length),c=parseInt(c);var l=u(i,0,c);if(a)try{l=String.fromCharCode.apply(null,new Uint8Array(l))}catch(h){var p=new Uint8Array(l);l="";for(var f=0;f<p.length;f++)l+=String.fromCharCode(p[f])}o.push(l),i=u(i,c)}var d=o.length;o.forEach(function(t,i){n(r.decodePacket(t,e),i,d)})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":48,after:49,"arraybuffer.slice":50,"base64-arraybuffer":51,blob:52,utf8:53}],48:[function(t,e){e.exports=Object.keys||function(t){var e=[],r=Object.prototype.hasOwnProperty;for(var n in t)r.call(t,n)&&e.push(n);return e}},{}],49:[function(t,e){function r(t,e,r){function i(t,n){if(i.count<=0)throw new Error("after called too many times");--i.count,t?(o=!0,e(t),e=r):0!==i.count||o||e(null,n)}var o=!1;return r=r||n,i.count=t,0===t?e():i}function n(){}e.exports=r},{}],50:[function(t,e){e.exports=function(t,e,r){var n=t.byteLength;if(e=e||0,r=r||n,t.slice)return t.slice(e,r);if(0>e&&(e+=n),0>r&&(r+=n),r>n&&(r=n),e>=n||e>=r||0===n)return new ArrayBuffer(0);for(var i=new Uint8Array(t),o=new Uint8Array(r-e),s=e,a=0;r>s;s++,a++)o[a]=i[s];return o.buffer}},{}],51:[function(t,e,r){!function(t){"use strict";r.encode=function(e){var r,n=new Uint8Array(e),i=n.length,o="";for(r=0;i>r;r+=3)o+=t[n[r]>>2],o+=t[(3&n[r])<<4|n[r+1]>>4],o+=t[(15&n[r+1])<<2|n[r+2]>>6],o+=t[63&n[r+2]];return i%3===2?o=o.substring(0,o.length-1)+"=":i%3===1&&(o=o.substring(0,o.length-2)+"=="),o},r.decode=function(e){var r,n,i,o,s,a=.75*e.length,u=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var f=new ArrayBuffer(a),l=new Uint8Array(f);for(r=0;u>r;r+=4)n=t.indexOf(e[r]),i=t.indexOf(e[r+1]),o=t.indexOf(e[r+2]),s=t.indexOf(e[r+3]),l[c++]=n<<2|i>>4,l[c++]=(15&i)<<4|o>>2,l[c++]=(3&o)<<6|63&s;return f}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],52:[function(t,e){(function(t){function r(t,e){e=e||{};for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return e.type?r.getBlob(e.type):r.getBlob()}var n=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,i=function(){try{var t=new Blob(["hi"]);return 2==t.size}catch(e){return!1}}(),o=n&&n.prototype.append&&n.prototype.getBlob;e.exports=function(){return i?t.Blob:o?r:void 0}()}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],53:[function(t,e,r){(function(t){!function(n){function i(t){for(var e,r,n=[],i=0,o=t.length;o>i;)e=t.charCodeAt(i++),e>=55296&&56319>=e&&o>i?(r=t.charCodeAt(i++),56320==(64512&r)?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--)):n.push(e);return n}function o(t){for(var e,r=t.length,n=-1,i="";++n<r;)e=t[n],e>65535&&(e-=65536,i+=v(e>>>10&1023|55296),e=56320|1023&e),i+=v(e);return i}function s(t,e){return v(t>>e&63|128)}function a(t){if(0==(4294967168&t))return v(t);var e="";return 0==(4294965248&t)?e=v(t>>6&31|192):0==(4294901760&t)?(e=v(t>>12&15|224),e+=s(t,6)):0==(4292870144&t)&&(e=v(t>>18&7|240),e+=s(t,12),e+=s(t,6)),e+=v(63&t|128)}function u(t){for(var e,r=i(t),n=r.length,o=-1,s="";++o<n;)e=r[o],s+=a(e);return s}function c(){if(m>=g)throw Error("Invalid byte index");var t=255&y[m];if(m++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function f(){var t,e,r,n,i;if(m>g)throw Error("Invalid byte index");if(m==g)return!1;if(t=255&y[m],m++,0==(128&t))return t;if(192==(224&t)){var e=c();if(i=(31&t)<<6|e,i>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&t)){if(e=c(),r=c(),i=(15&t)<<12|e<<6|r,i>=2048)return i;throw Error("Invalid continuation byte")}if(240==(248&t)&&(e=c(),r=c(),n=c(),i=(15&t)<<18|e<<12|r<<6|n,i>=65536&&1114111>=i))return i;throw Error("Invalid UTF-8 detected")}function l(t){y=i(t),g=y.length,m=0;for(var e,r=[];(e=f())!==!1;)r.push(e);return o(r)}var h="object"==typeof r&&r,p="object"==typeof e&&e&&e.exports==h&&e,d="object"==typeof t&&t;(d.global===d||d.window===d)&&(n=d);var y,g,m,v=String.fromCharCode,b={version:"2.0.0",encode:u,decode:l};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return b});else if(h&&!h.nodeType)if(p)p.exports=b;else{var w={},k=w.hasOwnProperty;for(var A in b)k.call(b,A)&&(h[A]=b[A])}else n.utf8=b}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],54:[function(t,e){var r=t("global");try{e.exports="XMLHttpRequest"in r&&"withCredentials"in new r.XMLHttpRequest}catch(n){e.exports=!1}},{global:55}],55:[function(t,e){e.exports=function(){return this}()},{}],56:[function(t,e){(function(t){var r=/^[\],:{}\s]*$/,n=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,i=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,o=/(?:^|:|,)(?:\s*\[)+/g,s=/^\s+/,a=/\s+$/;e.exports=function(e){return"string"==typeof e&&e?(e=e.replace(s,"").replace(a,""),t.JSON&&JSON.parse?JSON.parse(e):r.test(e.replace(n,"@").replace(i,"]").replace(o,""))?new Function("return "+e)():void 0):null}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],57:[function(t,e,r){r.encode=function(t){var e="";for(var r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e},r.decode=function(t){for(var e={},r=t.split("&"),n=0,i=r.length;i>n;n++){var o=r[n].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}},{}],58:[function(t,e){function r(t,e){var r;return r=e?new i(t,e):new i(t)}var n=function(){return this}(),i=n.WebSocket||n.MozWebSocket;e.exports=i?r:null,i&&(r.prototype=i.prototype)},{}],59:[function(t,e){(function(r,n){function i(t){function e(t){if(!t)return!1;if(r.Buffer&&n.isBuffer(t)||r.ArrayBuffer&&t instanceof ArrayBuffer||r.Blob&&t instanceof Blob||r.File&&t instanceof File)return!0;if(o(t)){for(var i=0;i<t.length;i++)if(e(t[i]))return!0}else if(t&&"object"==typeof t){t.toJSON&&(t=t.toJSON());for(var s in t)if(e(t[s]))return!0}return!1}return e(t)}var o=t("isarray");e.exports=i}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer)},{buffer:1,isarray:60}],60:[function(t,e){e.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},{}],61:[function(t,e){var r=[].indexOf;e.exports=function(t,e){if(r)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},{}],62:[function(t,e,r){var n=Object.prototype.hasOwnProperty;r.keys=Object.keys||function(t){var e=[];for(var r in t)n.call(t,r)&&e.push(r);return e},r.values=function(t){var e=[];for(var r in t)n.call(t,r)&&e.push(t[r]);return e},r.merge=function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);return t},r.length=function(t){return r.keys(t).length},r.isEmpty=function(t){return 0==r.length(t)}},{}],63:[function(t,e){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(t){for(var e=r.exec(t||""),i={},o=14;o--;)i[n[o]]=e[o]||"";return i}},{}],64:[function(t,e,r){(function(e,n){function i(t){return e.Buffer&&n.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}var o=t("isarray");r.deconstructPacket=function(t){function r(t){if(!t)return t;if(e.Buffer&&n.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer){var s={_placeholder:!0,num:i.length};return i.push(t),s}if(o(t)){for(var a=new Array(t.length),u=0;u<t.length;u++)a[u]=r(t[u]);return a}if("object"==typeof t&&!(t instanceof Date)){var a={};for(var c in t)a[c]=r(t[c]);return a}return t}var i=[],s=t.data,a=t;return a.data=r(s),a.attachments=i.length,{packet:a,buffers:i}},r.reconstructPacket=function(t,e){function r(t){if(t&&t._placeholder){var n=e[t.num];return n}if(o(t)){for(var i=0;i<t.length;i++)t[i]=r(t[i]);return t}if(t&&"object"==typeof t){for(var s in t)t[s]=r(t[s]);return t}return t}return t.data=r(t.data),t.attachments=void 0,t},r.removeBlobs=function(t,r){function n(t,u,c){if(!t)return t;if(e.Blob&&t instanceof Blob||e.File&&t instanceof File){s++;var f=new FileReader;f.onload=function(){c?c[u]=this.result:a=this.result,--s||r(a)},f.readAsArrayBuffer(t)}if(o(t))for(var l=0;l<t.length;l++)n(t[l],l,t);else if(t&&"object"==typeof t&&!i(t))for(var h in t)n(t[h],h,t)}var s=0,a=t;n(a),s||r(a)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer)},{buffer:1,isarray:69}],65:[function(t,e,r){(function(e,n){function i(){}function o(t){var e="",n=!1;return e+=t.type,(r.BINARY_EVENT==t.type||r.BINARY_ACK==t.type)&&(e+=t.attachments,e+="-"),t.nsp&&"/"!=t.nsp&&(n=!0,e+=t.nsp),null!=t.id&&(n&&(e+=",",n=!1),e+=t.id),null!=t.data&&(n&&(e+=","),e+=h.stringify(t.data)),l("encoded %j as %s",t,e),e}function s(t,e){function r(t){var r=d.deconstructPacket(t),n=o(r.packet),i=r.buffers;i.unshift(n),e(i)}d.removeBlobs(t,r)}function a(){this.reconstructor=null}function u(t){var e={},n=0;if(e.type=Number(t.charAt(0)),null==r.types[e.type])return f();if(r.BINARY_EVENT==e.type||r.BINARY_ACK==e.type){for(e.attachments="";"-"!=t.charAt(++n);)e.attachments+=t.charAt(n);e.attachments=Number(e.attachments)}if("/"==t.charAt(n+1))for(e.nsp="";++n;){var i=t.charAt(n);if(","==i)break;if(e.nsp+=i,n+1==t.length)break}else e.nsp="/";var o=t.charAt(n+1);if(""!=o&&Number(o)==o){for(e.id="";++n;){var i=t.charAt(n);if(null==i||Number(i)!=i){--n;break}if(e.id+=t.charAt(n),n+1==t.length)break}e.id=Number(e.id)}if(t.charAt(++n))try{e.data=h.parse(t.substr(n))}catch(s){return f()}return l("decoded %s as %j",t,e),e}function c(t){this.reconPack=t,this.buffers=[]}function f(){return{type:r.ERROR,data:"parser error"}}var l=t("debug")("socket.io-parser"),h=t("json3"),p=(t("isarray"),t("emitter")),d=t("./binary");r.protocol=3,r.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],r.CONNECT=0,r.DISCONNECT=1,r.EVENT=2,r.ACK=3,r.ERROR=4,r.BINARY_EVENT=5,r.BINARY_ACK=6,r.Encoder=i,i.prototype.encode=function(t,e){if(l("encoding packet %j",t),r.BINARY_EVENT==t.type||r.BINARY_ACK==t.type)s(t,e);else{var n=o(t);e([n])}},r.Decoder=a,p(a.prototype),a.prototype.add=function(t){var i;if("string"==typeof t)i=u(t),r.BINARY_EVENT==i.type||r.BINARY_ACK==i.type?(this.reconstructor=new c(i),0==this.reconstructor.reconPack.attachments&&this.emit("decoded",i)):this.emit("decoded",i);else{if(!(e.Buffer&&n.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer||t.base64))throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");i=this.reconstructor.takeBinaryData(t),i&&(this.reconstructor=null,this.emit("decoded",i))}},a.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},c.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length==this.reconPack.attachments){var e=d.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},c.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer)},{"./binary":64,buffer:1,debug:66,emitter:67,isarray:69,json3:70}],66:[function(t,e){e.exports=t(34)},{}],67:[function(t,e){function r(t){return t?n(t):void 0}function n(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}var i=t("indexof");e.exports=r,r.prototype.on=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},r.prototype.once=function(t,e){function r(){n.off(t,r),e.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},e._off=r,this.on(t,r),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r=this._callbacks[t];if(!r)return this;if(1==arguments.length)return delete this._callbacks[t],this;var n=i(r,e._off||e);return~n&&r.splice(n,1),this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),r=this._callbacks[t];if(r){r=r.slice(0);for(var n=0,i=r.length;i>n;++n)r[n].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{indexof:68}],68:[function(t,e){e.exports=t(61)},{}],69:[function(t,e){e.exports=t(60)},{}],70:[function(t,e,r){!function(t){function e(t){if(e[t]!==o)return e[t];var r;if("bug-string-char-index"==t)r="a"!="a"[0];else if("json"==t)r=e("json-stringify")&&e("json-parse");else{var n,i='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var a=c.stringify,u="function"==typeof a&&f;if(u){(n=function(){return 1}).toJSON=n;try{u="0"===a(0)&&"0"===a(new Number)&&'""'==a(new String)&&a(s)===o&&a(o)===o&&a()===o&&"1"===a(n)&&"[1]"==a([n])&&"[null]"==a([o])&&"null"==a(null)&&"[null,null,null]"==a([o,s,null])&&a({a:[n,!0,!1,null,"\x00\b\n\f\r	"]})==i&&"1"===a(null,n)&&"[\n 1,\n 2\n]"==a([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==a(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==a(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==a(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==a(new Date(-1))}catch(l){u=!1}}r=u}if("json-parse"==t){var h=c.parse;if("function"==typeof h)try{if(0===h("0")&&!h(!1)){n=h(i);var p=5==n.a.length&&1===n.a[0];if(p){try{p=!h('"	"')}catch(l){}if(p)try{p=1!==h("01")}catch(l){}if(p)try{p=1!==h("1.")}catch(l){}}}}catch(l){p=!1}r=p}}return e[t]=!!r}var n,i,o,s={}.toString,a="function"==typeof define&&define.amd,u="object"==typeof JSON&&JSON,c="object"==typeof r&&r&&!r.nodeType&&r;c&&u?(c.stringify=u.stringify,c.parse=u.parse):c=t.JSON=u||{};var f=new Date(-0xc782b5b800cec);try{f=-109252==f.getUTCFullYear()&&0===f.getUTCMonth()&&1===f.getUTCDate()&&10==f.getUTCHours()&&37==f.getUTCMinutes()&&6==f.getUTCSeconds()&&708==f.getUTCMilliseconds()}catch(l){}if(!e("json")){var h="[object Function]",p="[object Date]",d="[object Number]",y="[object String]",g="[object Array]",m="[object Boolean]",v=e("bug-string-char-index");if(!f)var b=Math.floor,w=[0,31,59,90,120,151,181,212,243,273,304,334],k=function(t,e){return w[e]+365*(t-1970)+b((t-1969+(e=+(e>1)))/4)-b((t-1901+e)/100)+b((t-1601+e)/400)};(n={}.hasOwnProperty)||(n=function(t){var e,r={};return(r.__proto__=null,r.__proto__={toString:1},r).toString!=s?n=function(t){var e=this.__proto__,r=t in(this.__proto__=null,this);return this.__proto__=e,r}:(e=r.constructor,n=function(t){var r=(this.constructor||e).prototype;return t in this&&!(t in r&&this[t]===r[t])}),r=null,n.call(this,t)});var A={"boolean":1,number:1,string:1,undefined:1},x=function(t,e){var r=typeof t[e];return"object"==r?!!t[e]:!A[r]};if(i=function(t,e){var r,o,a,u=0;(r=function(){this.valueOf=0}).prototype.valueOf=0,o=new r;for(a in o)n.call(o,a)&&u++;return r=o=null,u?i=2==u?function(t,e){var r,i={},o=s.call(t)==h;for(r in t)o&&"prototype"==r||n.call(i,r)||!(i[r]=1)||!n.call(t,r)||e(r)}:function(t,e){var r,i,o=s.call(t)==h;for(r in t)o&&"prototype"==r||!n.call(t,r)||(i="constructor"===r)||e(r);(i||n.call(t,r="constructor"))&&e(r)}:(o=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],i=function(t,e){var r,i,a=s.call(t)==h,u=!a&&"function"!=typeof t.constructor&&x(t,"hasOwnProperty")?t.hasOwnProperty:n;for(r in t)a&&"prototype"==r||!u.call(t,r)||e(r);for(i=o.length;r=o[--i];u.call(t,r)&&e(r));}),i(t,e)},!e("json-stringify")){var S={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},E="000000",j=function(t,e){return(E+(e||0)).slice(-t)},B="\\u00",_=function(t){var e,r='"',n=0,i=t.length,o=i>10&&v;for(o&&(e=t.split(""));i>n;n++){var s=t.charCodeAt(n);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:r+=S[s];break;default:if(32>s){r+=B+j(2,s.toString(16));break}r+=o?e[n]:v?t.charAt(n):t[n]}}return r+'"'},C=function(t,e,r,a,u,c,f){var l,h,v,w,A,x,S,E,B,O,P,N,T,I,R,M;try{l=e[t]}catch(U){}if("object"==typeof l&&l)if(h=s.call(l),h!=p||n.call(l,"toJSON"))"function"==typeof l.toJSON&&(h!=d&&h!=y&&h!=g||n.call(l,"toJSON"))&&(l=l.toJSON(t));else if(l>-1/0&&1/0>l){if(k){for(A=b(l/864e5),v=b(A/365.2425)+1970-1;k(v+1,0)<=A;v++);for(w=b((A-k(v,0))/30.42);k(v,w+1)<=A;w++);A=1+A-k(v,w),x=(l%864e5+864e5)%864e5,S=b(x/36e5)%24,E=b(x/6e4)%60,B=b(x/1e3)%60,O=x%1e3}else v=l.getUTCFullYear(),w=l.getUTCMonth(),A=l.getUTCDate(),S=l.getUTCHours(),E=l.getUTCMinutes(),B=l.getUTCSeconds(),O=l.getUTCMilliseconds();l=(0>=v||v>=1e4?(0>v?"-":"+")+j(6,0>v?-v:v):j(4,v))+"-"+j(2,w+1)+"-"+j(2,A)+"T"+j(2,S)+":"+j(2,E)+":"+j(2,B)+"."+j(3,O)+"Z"}else l=null;if(r&&(l=r.call(e,t,l)),null===l)return"null";if(h=s.call(l),h==m)return""+l;if(h==d)return l>-1/0&&1/0>l?""+l:"null";if(h==y)return _(""+l);if("object"==typeof l){for(I=f.length;I--;)if(f[I]===l)throw TypeError();if(f.push(l),P=[],R=c,c+=u,h==g){for(T=0,I=l.length;I>T;T++)N=C(T,l,r,a,u,c,f),P.push(N===o?"null":N);M=P.length?u?"[\n"+c+P.join(",\n"+c)+"\n"+R+"]":"["+P.join(",")+"]":"[]"}else i(a||l,function(t){var e=C(t,l,r,a,u,c,f);e!==o&&P.push(_(t)+":"+(u?" ":"")+e)}),M=P.length?u?"{\n"+c+P.join(",\n"+c)+"\n"+R+"}":"{"+P.join(",")+"}":"{}";return f.pop(),M}};c.stringify=function(t,e,r){var n,i,o,a;if("function"==typeof e||"object"==typeof e&&e)if((a=s.call(e))==h)i=e;else if(a==g){o={};for(var u,c=0,f=e.length;f>c;u=e[c++],a=s.call(u),(a==y||a==d)&&(o[u]=1));}if(r)if((a=s.call(r))==d){if((r-=r%1)>0)for(n="",r>10&&(r=10);n.length<r;n+=" ");}else a==y&&(n=r.length<=10?r:r.slice(0,10));return C("",(u={},u[""]=t,u),i,o,n,"",[])}}if(!e("json-parse")){var O,P,N=String.fromCharCode,T={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},I=function(){throw O=P=null,SyntaxError()},R=function(){for(var t,e,r,n,i,o=P,s=o.length;s>O;)switch(i=o.charCodeAt(O)){case 9:case 10:case 13:case 32:O++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=v?o.charAt(O):o[O],O++,t;case 34:for(t="@",O++;s>O;)if(i=o.charCodeAt(O),32>i)I();else if(92==i)switch(i=o.charCodeAt(++O)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=T[i],O++;break;case 117:for(e=++O,r=O+4;r>O;O++)i=o.charCodeAt(O),i>=48&&57>=i||i>=97&&102>=i||i>=65&&70>=i||I();t+=N("0x"+o.slice(e,O));break;default:I()}else{if(34==i)break;for(i=o.charCodeAt(O),e=O;i>=32&&92!=i&&34!=i;)i=o.charCodeAt(++O);t+=o.slice(e,O)}if(34==o.charCodeAt(O))return O++,t;I();default:if(e=O,45==i&&(n=!0,i=o.charCodeAt(++O)),i>=48&&57>=i){for(48==i&&(i=o.charCodeAt(O+1),i>=48&&57>=i)&&I(),n=!1;s>O&&(i=o.charCodeAt(O),i>=48&&57>=i);O++);if(46==o.charCodeAt(O)){for(r=++O;s>r&&(i=o.charCodeAt(r),i>=48&&57>=i);r++);r==O&&I(),O=r}if(i=o.charCodeAt(O),101==i||69==i){for(i=o.charCodeAt(++O),(43==i||45==i)&&O++,r=O;s>r&&(i=o.charCodeAt(r),i>=48&&57>=i);r++);r==O&&I(),O=r}return+o.slice(e,O)}if(n&&I(),"true"==o.slice(O,O+4))return O+=4,!0;if("false"==o.slice(O,O+5))return O+=5,!1;if("null"==o.slice(O,O+4))return O+=4,null;I()}return"$"},M=function(t){var e,r;if("$"==t&&I(),"string"==typeof t){if("@"==(v?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];t=R(),"]"!=t;r||(r=!0))r&&(","==t?(t=R(),"]"==t&&I()):I()),","==t&&I(),e.push(M(t));return e}if("{"==t){for(e={};t=R(),"}"!=t;r||(r=!0))r&&(","==t?(t=R(),"}"==t&&I()):I()),(","==t||"string"!=typeof t||"@"!=(v?t.charAt(0):t[0])||":"!=R())&&I(),e[t.slice(1)]=M(R());return e}I()}return t},U=function(t,e,r){var n=F(t,e,r);n===o?delete t[e]:t[e]=n},F=function(t,e,r){var n,o=t[e];if("object"==typeof o&&o)if(s.call(o)==g)for(n=o.length;n--;)U(o,n,r);else i(o,function(t){U(o,t,r)});return r.call(t,e,o)};c.parse=function(t,e){var r,n;return O=0,P=""+t,r=M(R()),"$"!=R()&&I(),O=P=null,e&&s.call(e)==h?F((n={},n[""]=r,n),"",e):r}}}a&&define(function(){return c})}(this)},{}],71:[function(t,e){function r(t,e){var r=[];e=e||0;for(var n=e||0;n<t.length;n++)r[n-e]=t[n];return r}e.exports=r},{}],72:[function(){"use strict";Polymer("animate-player",{ready:function(){var t=this;this.addEventListener("core-animation-finish",function(){t.animationLock=!1})},pathChanged:function(){this.animationLock===!1&&this.async(this.play)},play:function(){this.animationLock=!0,this.$.animation.play()},toTranslate:function(t,e){var r="translate(";return r+=t[0]*e,r+="px, ",r+=t[1]*e,r+=")"}})},{}],73:[function(){"use strict";Polymer("game-player",{attached:function(){this.pulse(),console.info("New player attached")},detached:function(){console.info("New player detached")},ready:function(){var t=this.$.walk.$.animation;t.target=this.$.player,t.play()},pulse:function(){var t=this.$.pulse.$.animation;t.target=this.$.player,t.play()}})},{}],74:[function(){"use strict";Polymer("game-sprite",{created:function(){this.coordinates=[]},locate:function(){var t,e=JSON.parse(this.matrix)[0],r=JSON.parse(this.matrix)[1];this.animationLock===!1&&(0===this.binaryMap[r][e]?(t=this.$.pivot.$.animation,this.position.to=JSON.parse(this.matrix)):t=this.$.heighten.$.animation,t.target=this.$.sprite,t.play())}})},{}],75:[function(){"use strict";Polymer("game-stage",{created:function(){var t=this;this.animationLock=!1,this.backupPosition=[0,0],this.binaryMap=[],this.devices={},this.path=[0,0],this.position={from:[0,0],to:[0,0]},this.players={},this.world=[],this.addEventListener("core-localstorage-load",function(){null!==t.backupPosition&&(t.backupPositionX=t.backupPosition[0]*t.spriteSize+"px",t.backupPositionY=t.backupPosition[1]*t.spriteSize+"px",t.position.from=t.backupPosition)})},observe:{"devices.mobile":"deviceHasChanged","devices.medium":"deviceHasChanged","devices.large":"deviceHasChanged","devices.xlarge":"deviceHasChanged","devices.xxlarge":"deviceHasChanged","position.to":"playerPositionHasChanged",world:"worldHasChanged"},ready:function(){this.animation=this.$.move.$.animation,this.animation.target=this.$.player,this.animation.fill="forwards"},deviceHasChanged:function(){this.devices.mobile&&(this.spriteSize=60),this.devices.medium&&(this.spriteSize=75),this.devices.large&&(this.spriteSize=90),this.devices.xlarge&&(this.spriteSize=105),this.devices.xxlarge&&(this.spriteSize=120)},playerPositionHasChanged:function(){var t=this.grid.clone();this.path=this.finder.findPath(this.position.from[0],this.position.from[1],this.position.to[0],this.position.to[1],this.grid),this.grid=t,this.position.from=this.position.to,this.backupPosition=this.position.to,this.backupPositionX=0,this.backupPositionY=0},worldHasChanged:function(){var t=this.pathFinding;this.grid=new t.Grid(20,20,this.binaryMap),this.finder=new t.AStarFinder({heuristic:t.Heuristic.chebyshev})}})},{}],76:[function(t){"use strict";var e=$traceurRuntime.assertObject(t("./world")).World,r={pathFinding:t("pathfinding"),io:t("socket.io-client")},n=r.pathFinding,i=r.io,o=r.socket,o=i("http://127.0.0.1:1337");t("./socket-io"),t("./animate-player"),t("./game-player"),t("./game-sprite"),t("./game-stage");var s=new e;s.toBinaryMatrix(),window.addEventListener("polymer-ready",function(){var t=document.querySelector("game-stage");t.pathFinding=n,t.socket=o,t.world=s.map,t.binaryMap=s.binaryMap})},{"./animate-player":72,"./game-player":73,"./game-sprite":74,"./game-stage":75,"./socket-io":77,"./world":78,pathfinding:6,"socket.io-client":26}],77:[function(){"use strict";Polymer("socket-io",{observe:{path:"pathHasChanged",socket:"socketReady"},socketReady:function(){var t=this,e=function(e){var r=new gamePlayer;r.setAttribute("uid",e.uid),r.devices=t.devices,t.parentNode.appendChild(r),console.info("Player connect:",e.uid)},r=function(e){var r="[uid="+e.uid+"]",n=t.parentNode.querySelector(r);t.parentNode.removeChild(n),console.info("Player disconnect:",e.uid)},n=function(e){var r="[uid="+e.uid+"]",n=t.parentNode.querySelector(r);n.setAttribute("position",e.position)};this.pathHasChanged=function(){this.socket.emit("player path changed",{path:this.path,uid:this.uid})},this.socket.emit("client ready"),this.socket.on("player first connection",function(r){t.socket.emit("player position",{position:t.position.from}),t.players=r.players,t.uid=r.uid;for(var n in t.player)n!==r.uid&&e(r)}),this.socket.on("new player connection",function(r){t.players=r.players,e(r)}),this.socket.on("player position",function(t){n(t),console.info("Player id=",t.uid," position:",t.position)}),this.socket.on("player left",function(e){t.players=e.players,r(e)})}})},{}],78:[function(t,e,r){"use strict";Object.defineProperties(r,{World:{get:function(){return n}},__esModule:{value:!0}});var n=function(){this.map=[[0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,0,0,1,0,0,0,1,0,2,0,0,0,0,0,0,0,0],[0,0,1,0,1,0,0,0,0,3,0,4,0,3,5,0,3,0,0,0],[0,0,0,0,0,4,2,0,3,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,3,0,3,1,1,0,4,0,3,3,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],this.crossableSprites=[0,3]};$traceurRuntime.createClass(n,{isCrossable:function(t){return-1!==this.crossableSprites.indexOf(t)?!0:!1},toBinaryMatrix:function(){var t=this;this.binaryMap=[];var e=function(e){return t.isCrossable(e)?0:1};this.map.forEach(function(r){return t.binaryMap.push(r.map(e))})}},{})},{}]},{},[5,76]);